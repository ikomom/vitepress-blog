- [2021å¹´å‰ç«¯é¢è¯•å¿…è¯»æ–‡ç« ã€è¶…ä¸‰ç™¾ç¯‡æ–‡ç« /èµ å¤ä¹ å¯¼å›¾ã€‘](https://juejin.cn/post/6844904116339261447#heading-55)

- [åšäº†ä¸€ä»½å‰ç«¯é¢è¯•å¤ä¹ è®¡åˆ’ï¼Œä¿ç†Ÿï½](https://juejin.cn/post/7061588533214969892#heading-30)

- [å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“](https://blog.csdn.net/qq_41328247/article/details/113859458)

## æ‚é¡¹

1. ts   extend  infer æ‰‹å†™é¢˜ã€å‡½æ•°é‡è½½   2é¢˜
2. æ²™ç®±  æ‰‹å†™ ä¼ªä»£ç 
3. httpç¼“å­˜ å¼ºç¼“å­˜ åå•†ç¼“å­˜ å„è¯·æ±‚å¤´ä½œç”¨   http 1.0 1.1   2.0    httpsåŸç†   éå¯¹ç§°å’Œå¯¹ç§°åŠ å¯†åŸç†
4. casè®¤è¯å’Œoauth2è®¤è¯ æµç¨‹
5. npm yarn pnpm åŒºåˆ«  åŸç†  è½¯è¿æ¥å’Œç¡¬è¿æ¥ä½œç”¨  ä»€ä¹ˆæ˜¯å¹½çµä¾èµ–
6. commonjs  esm åŒºåˆ«
7. prefetch preload åŒºåˆ«

## å¯èƒ½é—®é¢˜

### å¼€å‘vueé¡¹ç›®éƒ½é‡åˆ°è¿‡å“ªäº›é—®é¢˜æ€ä¹ˆè§£å†³çš„ï¼Ÿ

https://www.zhihu.com/question/439229990

1. ä»å·¥ç¨‹åŒ–çš„è§’åº¦çœ‹ï¼Œé¡¹ç›®è¶Šå¤§ï¼Œwebpackå¯åŠ¨çš„é€Ÿåº¦å°±è¶Šæ…¢ï¼Œè¿™ä¸€ç‚¹å°±éœ€è¦åˆ†åŒ…ï¼ŒæŠ½ç¦»å…¬å…±çš„ä»£ç ï¼›

2. ä»è¯­æ³•ä¸Šï¼Œæˆ‘å°è±¡æ¯”è¾ƒæ·±çš„æ˜¯ï¼Œä½†æ˜¯`v-if`å’Œ`v-else`çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªç»„ä»¶çš„è¯ï¼Œéœ€è¦å•ç‹¬æŒ‡å®škeyï¼Œä¸ç„¶ç»„ä»¶ä¼šå¤ç”¨



### å½“æˆ‘åœ¨æµè§ˆå™¨ä¸­è¾“å…¥URLï¼Œä¸€ç›´åˆ°é¡µé¢æ˜¾ç¤ºï¼Œè¿™ä¸ªä¸­é—´è¿‡ç¨‹å‘ç”Ÿäº†å“ªäº›äº‹æƒ…å‘¢ï¼Ÿ

1. åŸŸåè§£æ, DNSæœåŠ¡å™¨è¿”å›ip
2. å»ºç«‹TCPè¿æ¥, ä¸‰æ¬¡æ¡æ‰‹, httpè¯·æ±‚
3. æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å› HTTP æŠ¥æ–‡ã€‚
4. ä¸‹è½½Html,
5. è§£æHTML, æ„å»ºDOMæ ‘; è§£æCSS, ç”ŸæˆCSSè§„åˆ™. ç”Ÿæˆrenderæ ‘; å¸ƒå±€renderæ ‘ï¼ˆLayout/reflowï¼‰ï¼Œè´Ÿè´£å„å…ƒç´ å°ºå¯¸ã€ä½ç½®çš„è®¡ç®—
6. ç»˜åˆ¶renderæ ‘ï¼ˆpaintï¼‰ï¼Œç»˜åˆ¶é¡µé¢åƒç´ ä¿¡æ¯
7. åŠ è½½å®Œæˆå…³é—­TCPè¿æ¥(å››æ¬¡æ¡æ‰‹)



### Vue å’Œ React æœ‰ä»€ä¹ˆä¸åŒ,  ä»æ€æƒ³ã€ç”Ÿæ€ã€è¯­æ³•ã€æ•°æ®ã€é€šä¿¡ã€diffç­‰è§’åº¦è‡ªå·±æ€»ç»“ä¸€ä¸‹å§ã€‚

> ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚æˆ‘å¯ä»¥å¸®ä½ å›ç­”è¿™ä¸ªé—®é¢˜ã€‚ğŸ˜Š
>
> Vue å’Œ React æœ‰ä»€ä¹ˆä¸åŒï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯Vue å’Œ React æ˜¯ä¸¤ä¸ªéå¸¸æµè¡Œçš„ç”¨äºåˆ›å»ºJavaScript webåº”ç”¨çš„å·¥å…·ï¼Œä½†å®ƒä»¬ä¹Ÿæœ‰ä¸€äº›æ˜¾è‘—çš„åŒºåˆ«ï¼Œå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªè§’åº¦æ¥æ€»ç»“Â¹ï¼š
>
> - æ€æƒ³ï¼šVue æ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„æ¡†æ¶ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä»ç®€å•çš„å“åº”å¼åº”ç”¨å¼€å§‹ï¼Œç„¶åé€æ­¥å¼•å…¥æ›´å¤šçš„åŠŸèƒ½å’Œæ’ä»¶ï¼Œæ ¹æ®é¡¹ç›®çš„éœ€æ±‚æ¥æ‰©å±•ã€‚React æ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒåªå…³æ³¨äºæ„å»ºç”¨æˆ·ç•Œé¢ï¼Œå®ƒéœ€è¦æˆ‘ä»¬è‡ªå·±é€‰æ‹©å…¶ä»–çš„åº“æˆ–å·¥å…·æ¥å®ç°è·¯ç”±ã€çŠ¶æ€ç®¡ç†ã€è¡¨å•å¤„ç†ç­‰åŠŸèƒ½ã€‚
> - ç”Ÿæ€ï¼šReact æœ‰ä¸€ä¸ªåºå¤§è€Œæˆç†Ÿçš„ç”Ÿæ€ç³»ç»Ÿï¼Œå®ƒæœ‰å¾ˆå¤šä¼˜ç§€çš„ç¬¬ä¸‰æ–¹åº“å’Œå·¥å…·ï¼Œä¾‹å¦‚Reduxã€React Routerã€Next.jsç­‰ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºå¤æ‚çš„åº”ç”¨ã€‚Vue ä¹Ÿæœ‰ä¸€ä¸ªä¸æ–­å‘å±•çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå®ƒæœ‰ä¸€äº›å®˜æ–¹ç»´æŠ¤çš„åº“å’Œå·¥å…·ï¼Œä¾‹å¦‚Vuexã€Vue Routerã€Nuxt.jsç­‰ï¼Œä»¥åŠä¸€äº›ç¤¾åŒºè´¡çŒ®çš„åº“å’Œå·¥å…·ï¼Œä¾‹å¦‚Vuetifyã€Quasarç­‰ã€‚
> - è¯­æ³•ï¼šVue çš„è¯­æ³•æ˜¯åŸºäºHTMLæ¨¡æ¿çš„ï¼Œå®ƒä½¿ç”¨äº†ç±»ä¼¼Angularçš„æŒ‡ä»¤å’Œæ’å€¼æ¥ç»‘å®šæ•°æ®å’Œäº‹ä»¶ã€‚Vue ä¹Ÿæ”¯æŒä½¿ç”¨JSXæ¥ç¼–å†™æ¸²æŸ“å‡½æ•°ï¼Œä½†è¿™ä¸æ˜¯å¿…é¡»çš„ã€‚React çš„è¯­æ³•æ˜¯åŸºäºJSXçš„ï¼Œå®ƒä½¿ç”¨äº†ç±»ä¼¼HTMLçš„æ ‡ç­¾å’Œå±æ€§æ¥æè¿°ç”¨æˆ·ç•Œé¢ã€‚JSX éœ€è¦ç¼–è¯‘æˆJavaScriptä»£ç æ‰èƒ½è¿è¡Œã€‚
> - æ•°æ®ï¼šVue ä½¿ç”¨äº†åŒå‘æ•°æ®ç»‘å®šï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬é€šè¿‡ä¿®æ”¹æ•°æ®æ¥è‡ªåŠ¨æ›´æ–°è§†å›¾ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹è§†å›¾æ¥è‡ªåŠ¨æ›´æ–°æ•°æ®ã€‚Vue ä½¿ç”¨äº†å“åº”å¼ç³»ç»Ÿæ¥å®ç°æ•°æ®ç»‘å®šï¼Œå®ƒåˆ©ç”¨äº†Object.definePropertyæˆ–Proxyæ¥ç›‘å¬æ•°æ®å˜åŒ–ï¼Œå¹¶è§¦å‘è§†å›¾æ›´æ–°ã€‚React ä½¿ç”¨äº†å•å‘æ•°æ®æµï¼Œå®ƒåªå…è®¸æˆ‘ä»¬é€šè¿‡ä¿®æ”¹æ•°æ®æ¥æ›´æ–°è§†å›¾ï¼Œè€Œä¸å…è®¸ç›´æ¥ä¿®æ”¹è§†å›¾ã€‚React ä½¿ç”¨äº†setStateæ–¹æ³•æ¥å®ç°æ•°æ®æ›´æ–°ï¼Œå¹¶è§¦å‘è§†å›¾é‡æ–°æ¸²æŸ“ã€‚
> - é€šä¿¡ï¼šVue å’Œ React éƒ½ä½¿ç”¨äº†ç»„ä»¶åŒ–çš„æ¶æ„ï¼Œå®ƒä»¬éƒ½éœ€è¦ä¸€ç§æ–¹å¼æ¥å®ç°ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚Vue æä¾›äº†propså’Œè‡ªå®šä¹‰äº‹ä»¶æ¥å®ç°çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œä¹Ÿæä¾›äº†provideå’Œinjectæ¥å®ç°ç¥–å…ˆå’Œåä»£ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚å¯¹äºè·¨ç»„ä»¶æˆ–å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼ŒVue æ¨èä½¿ç”¨Vuexæˆ–äº‹ä»¶æ€»çº¿æ¥å®ç°ã€‚React ä¹Ÿæä¾›äº†propså’Œè‡ªå®šä¹‰äº‹ä»¶æ¥å®ç°çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œä¹Ÿæä¾›äº†Context APIæ¥å®ç°ç¥–å…ˆå’Œåä»£ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚å¯¹äºè·¨ç»„ä»¶æˆ–å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼ŒReact æ¨èä½¿ç”¨Reduxæˆ–å…¶ä»–çŠ¶æ€ç®¡ç†åº“æ¥å®ç°ã€‚
> - diffï¼šVue å’Œ React éƒ½ä½¿ç”¨äº†è™šæ‹ŸDOMï¼ˆVirtual DOMï¼‰æ¥æé«˜æ€§èƒ½ï¼Œå®ƒä»¬éƒ½éœ€è¦ä¸€ç§ç®—æ³•æ¥æ¯”è¾ƒæ–°æ—§è™šæ‹ŸDOMæ ‘ï¼Œå¹¶æ‰¾å‡ºæœ€å°çš„å˜åŒ–é›†åˆæ¥æ›´æ–°çœŸå®DOMæ ‘ã€‚è¿™ç§ç®—æ³•å°±å«åšdiffç®—æ³•ã€‚Vue çš„diffç®—æ³•æ˜¯åŸºäºæ·±åº¦ä¼˜å…ˆéå†ï¼ˆDepth-First Searchï¼‰å’ŒåŒå±‚æ¯”è¾ƒï¼ˆSame-Level Comparisonï¼‰çš„æ€æƒ³ï¼Œå®ƒåªæ¯”è¾ƒåŒä¸€å±‚çº§çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”å‡è®¾åŒä¸€å±‚çº§çš„èŠ‚ç‚¹é¡ºåºä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚React çš„diffç®—æ³•æ˜¯åŸºäºå¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBreadth-First Searchï¼‰å’Œå¯å‘å¼ï¼ˆHeuristicï¼‰çš„æ€æƒ³ï¼Œå®ƒå¯ä»¥æ¯”è¾ƒä¸åŒå±‚çº§çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”å¯ä»¥å¤„ç†èŠ‚ç‚¹é¡ºåºçš„å˜åŒ–ã€‚React çš„diffç®—æ³•æ›´åŠ å¤æ‚å’Œæ™ºèƒ½ï¼Œä½†ä¹Ÿæ›´åŠ è€—è´¹èµ„æºã€‚
>
> ä»¥ä¸Šå°±æ˜¯æˆ‘èƒ½æ‰¾åˆ°çš„å…³äºVue å’Œ React æœ‰ä»€ä¹ˆä¸åŒçš„ä¸€äº›ç­”æ¡ˆï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/28
> (1) Vue vs React: Everything You Need To Know â€” SitePoint. https://www.sitepoint.com/vue-vs-react/.
> (2) React vs Vue in 2023: Head to Head Comparison [Updated] - Hackr. https://hackr.io/blog/react-vs-vue.
> (3) 2022å¹´å‰ç«¯æ¡†æ¶è¶‹åŠ¿ï¼šReactä¸Vueæ·±åº¦å¯¹æ¯” - æ˜é‡‘. https://juejin.cn/post/7137146536529494052.
> (4) Vue vs React in 2022 - Comparison of Two Most Popular JS Frameworks. https://www.monterail.com/blog/vue-vs-react.



### vueæ˜¯å¦‚ä½•å®ç°åŒå‘ç»‘å®šçš„

åŒå‘ç»‘å®šæŒ‡çš„æ˜¯

1. æ•°æ®æ›´æ–° -ã€‹è§†å›¾æ›´æ–°

   - å®ç°ä¸€ä¸ªç›‘å¬å™¨ Observerï¼Œæ·±åº¦ç›‘å¬æ•°æ®ã€‚ç”¨` Object.defineProperty()`å¯¹å±æ€§éƒ½åŠ ä¸Š`setter`å’Œ`getter`, ç»™å¯¹è±¡çš„æ•°æ®èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘`setter`
   - å®ç°ä¸€ä¸ªè§£æå™¨ Compileï¼Œè§£æ Vue æ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡éƒ½æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾
   - å®ç°ä¸€ä¸ªè®¢é˜…è€… Watcherï¼Œå®ƒæ—¶Compileå’ŒObserveré—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦çš„ä»»åŠ¡æ˜¯è®¢é˜… Observer ä¸­çš„å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯ï¼Œå½“æ”¶åˆ°å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯æ—¶ï¼Œè§¦å‘è§£æå™¨ Compile ä¸­å¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚
   - å®ç°ä¸€ä¸ªè®¢é˜…å™¨ Depï¼šè®¢é˜…å™¨é‡‡ç”¨ å‘å¸ƒ-è®¢é˜… è®¾è®¡æ¨¡å¼ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€… Watcherï¼Œå¯¹ç›‘å¬å™¨ Observer å’Œ è®¢é˜…è€… Watcher è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚

   

2. è§†å›¾æ›´æ–° -ã€‹æ•°æ®æ›´æ–°

   - è§†å›¾è§¦å‘äº‹ä»¶ï¼Œæ›´æ–°jsæ•°æ®

![1.png](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/8/19/16ca75871f729d89~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp)

### MVVMå’ŒMVC

[æ­£ç¡®è®¤è¯† MVC/MVP/MVVM](https://juejin.cn/post/6901200799242649607)

[ä»reactè§†è§’è®¤è¯†MVC](https://blog.yyisyou.tw/1dddc6d7/)

> ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚MVVMå’ŒMVCæ˜¯ä¸¤ç§å¸¸ç”¨çš„è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼š
>
> - MVCæ˜¯æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼ˆModel-View-Controllerï¼‰çš„ç¼©å†™ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼šæ¨¡å‹è´Ÿè´£å¤„ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œè§†å›¾è´Ÿè´£æ˜¾ç¤ºç”¨æˆ·ç•Œé¢ï¼Œæ§åˆ¶å™¨è´Ÿè´£æ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶è°ƒç”¨æ¨¡å‹å’Œè§†å›¾æ¥å®Œæˆè¯·æ±‚Â¹Â³ã€‚
> - MVVMæ˜¯æ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ï¼ˆModel-View-ViewModelï¼‰çš„ç¼©å†™ï¼Œå®ƒæ˜¯MVCçš„æ”¹è¿›ç‰ˆï¼Œå®ƒå°†è§†å›¾çš„çŠ¶æ€å’Œè¡Œä¸ºæŠ½è±¡åŒ–ä¸ºä¸€ä¸ªè§†å›¾æ¨¡å‹ï¼Œé€šè¿‡æ•°æ®ç»‘å®šæŠ€æœ¯ï¼Œå®ç°äº†è§†å›¾å’Œæ¨¡å‹çš„è‡ªåŠ¨åŒæ­¥ï¼šå½“æ¨¡å‹çš„å±æ€§æ”¹å˜æ—¶ï¼Œè§†å›¾ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°Â²â´ã€‚
> - MVCå’ŒMVVMçš„ä¸»è¦ç›®çš„éƒ½æ˜¯åˆ†ç¦»è§†å›¾å’Œæ¨¡å‹ï¼Œé™ä½ä»£ç çš„è€¦åˆåº¦å’Œå¤æ‚åº¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚ä½†æ˜¯MVVMç›¸æ¯”MVCæ›´åŠ çµæ´»å’Œç®€æ´ï¼Œå®ƒå‡å°‘äº†æ§åˆ¶å™¨å±‚çš„ä»£ç é‡ï¼Œé¿å…äº†é¢‘ç¹åœ°æ“ä½œDOMå…ƒç´ ï¼Œæé«˜äº†é¡µé¢çš„æ¸²æŸ“æ€§èƒ½å’ŒåŠ è½½é€Ÿåº¦Â¹â´ã€‚
>
> å¸Œæœ›è¿™èƒ½å¸®åŠ©ä½ ç†è§£MVVMå’ŒMVCçš„åŒºåˆ«ã€‚ğŸ˜Š
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/15
> (1) æ¥ä¸ªç®€å•çš„ï¼ŒMVVMå’ŒMVCæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - çŸ¥ä¹ä¸“æ . https://zhuanlan.zhihu.com/p/377979044.
> (2) MVCã€MVVMæ¨¡å¼çš„æ¦‚å¿µä¸åŒºåˆ« - ç†æƒ³ä¸‰æ—¬Â· - åšå®¢å›­. https://www.cnblogs.com/wenkangIT/p/15149077.html.
> (3) MVCä¸MVVMæ¨¡å¼çš„åŒºåˆ« - æ˜é‡‘. https://juejin.cn/post/7110885291946147876.
> (4) é¢è¯•é¢˜51ï¼šMVVMå’ŒMVCæœ‰ä»€ä¹ˆåŒºåˆ« - CSDNåšå®¢. https://blog.csdn.net/qq_51066068/article/details/125441774.

---

> æˆ‘å¯ä»¥å°è¯•ç”¨åŸç”Ÿjsç»™ä½ å†™ä¸€ä¸ªMVCæ¡†æ¶çš„ä»£ç ç¤ºä¾‹ã€‚è¿™ä¸ªç¤ºä¾‹æ˜¯ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨åº”ç”¨ï¼Œå®ƒæœ‰ä¸€ä¸ªæ¨¡å‹ï¼ˆModelï¼‰æ¥å­˜å‚¨è®¡æ•°å€¼ï¼Œä¸€ä¸ªè§†å›¾ï¼ˆViewï¼‰æ¥æ˜¾ç¤ºè®¡æ•°å€¼ï¼Œå’Œä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆControllerï¼‰æ¥å“åº”ç”¨æˆ·ç‚¹å‡»æŒ‰é’®çš„äº‹ä»¶ã€‚ä»£ç å¦‚ä¸‹ï¼š
>
> ```javascript
> // Model
> var model = {
> count: 0 // è®¡æ•°å€¼
> };
> 
> // View
> var view = {
> init: function() {
>  // è·å–é¡µé¢å…ƒç´ 
>  this.countDisplay = document.getElementById("count");
>  this.incrementButton = document.getElementById("increment");
>  this.decrementButton = document.getElementById("decrement");
>  // æ¸²æŸ“åˆå§‹è§†å›¾
>  this.render();
> },
> render: function() {
>  // æ›´æ–°è®¡æ•°å€¼æ˜¾ç¤º
>  this.countDisplay.textContent = model.count;
> }
> };
> 
> // Controller
> var controller = {
> init: function() {
>  // åˆå§‹åŒ–è§†å›¾
>  view.init();
>  // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
>  view.incrementButton.addEventListener("click", function() {
>    controller.increment(); // è°ƒç”¨æ§åˆ¶å™¨çš„æ–¹æ³•
>  });
>  view.decrementButton.addEventListener("click", function() {
>    controller.decrement(); // è°ƒç”¨æ§åˆ¶å™¨çš„æ–¹æ³•
>  });
> },
> increment: function() {
>  // å¢åŠ è®¡æ•°å€¼
>  model.count++;
>  // æ›´æ–°è§†å›¾
>  view.render();
> },
> decrement: function() {
>  // å‡å°‘è®¡æ•°å€¼
>  model.count--;
>  // æ›´æ–°è§†å›¾
>  view.render();
> }
> };
> 
> // å¯åŠ¨åº”ç”¨
> controller.init();
> ```

---

> æˆ‘å¯ä»¥å°è¯•ç”¨åŸç”Ÿjsç»™ä½ å†™ä¸€ä¸ªMVVMæ¨¡å¼çš„ä»£ç ç¤ºä¾‹ã€‚MVVMæ˜¯Model-View-ViewModelçš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§å°†æ•°æ®ç»‘å®šå’Œè§†å›¾åˆ†ç¦»çš„è½¯ä»¶æ¶æ„æ¨¡å¼ã€‚å®ƒæœ‰ä¸€ä¸ªæ¨¡å‹ï¼ˆModelï¼‰æ¥å­˜å‚¨æ•°æ®ï¼Œä¸€ä¸ªè§†å›¾ï¼ˆViewï¼‰æ¥æ˜¾ç¤ºç•Œé¢ï¼Œå’Œä¸€ä¸ªè§†å›¾æ¨¡å‹ï¼ˆViewModelï¼‰æ¥å“åº”ç”¨æˆ·æ“ä½œå’Œæ›´æ–°è§†å›¾ã€‚ä»£ç å¦‚ä¸‹ï¼š
>
> ```javascript
> // Model
> var model = {
> count: 0 // è®¡æ•°å€¼
> };
> 
> // View
> var view = {
> init: function() {
>  // è·å–é¡µé¢å…ƒç´ 
>  this.countDisplay = document.getElementById("count");
>  this.incrementButton = document.getElementById("increment");
>  this.decrementButton = document.getElementById("decrement");
> }
> };
> 
> // ViewModel
> var viewModel = {
> init: function() {
>  // åˆå§‹åŒ–è§†å›¾
>  view.init();
>  // ç»‘å®šæ•°æ®å’Œè§†å›¾
>  this.bindData();
>  // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
>  this.bindEvent();
> },
> bindData: function() {
>  // ä½¿ç”¨Object.definePropertyå®ç°æ•°æ®ç»‘å®š
>  Object.defineProperty(this, "count", {
>    get: function() {
>      return model.count; // è·å–æ¨¡å‹ä¸­çš„æ•°æ®
>    },
>    set: function(value) {
>      model.count = value; // è®¾ç½®æ¨¡å‹ä¸­çš„æ•°æ®
>      view.countDisplay.textContent = value; // æ›´æ–°è§†å›¾ä¸­çš„æ˜¾ç¤º
>    }
>  });
>  // åˆå§‹åŒ–è§†å›¾ä¸­çš„æ˜¾ç¤º
>  view.countDisplay.textContent = this.count;
> },
> bindEvent: function() {
>  // ä½¿ç”¨addEventListenerå®ç°äº‹ä»¶ç»‘å®š
>  view.incrementButton.addEventListener("click", () => {
>    this.increment(); // è°ƒç”¨è§†å›¾æ¨¡å‹çš„æ–¹æ³•
>  });
>  view.decrementButton.addEventListener("click", () => {
>    this.decrement(); // è°ƒç”¨è§†å›¾æ¨¡å‹çš„æ–¹æ³•
>  });
> },
> increment: function() {
>  // å¢åŠ è®¡æ•°å€¼
>  this.count++;
> },
> decrement: function() {
>  // å‡å°‘è®¡æ•°å€¼
>  this.count--;
> }
> };
> 
> // å¯åŠ¨åº”ç”¨
> viewModel.init();
> ```

### ã€é›†åˆã€‘ç»Ÿä¸€èº«ä»½è®¤è¯ï¼ˆCASï¼‰å’ŒOAuth2çš„å·¥ä½œæµç¨‹

https://blog.csdn.net/tpriwwq/article/details/125740936



### å¦‚ä½•åšå¤§æ–‡ä»¶ä¸Šä¼ 

https://zhuanlan.zhihu.com/p/386493135?utm_id=0

åˆ†å—ï¼Œåˆ‡ç‰‡





## é¢˜ç›®

### è®¾è®¡ä¸€ä¸ªwebsocketå®¢æˆ·ç«¯æ¨¡å—ç»™å›¢é˜Ÿäººå‘˜ä½¿ç”¨

> é¢˜ç›®ï¼šè®¾è®¡ä¸€ä¸ªwebsocketå®¢æˆ·ç«¯æ¨¡å—ç»™å›¢é˜Ÿäººå‘˜ä½¿ç”¨
> è¦æ±‚ï¼šç¨³å®šæ€§å’Œå¯ç”¨æ€§ï¼Œä¸éœ€è¦è€ƒè™‘å®‰å…¨æ€§ï¼Œæ‰©å±•æ€§ç­‰å…¶ä»–å› ç´ 
> è€ƒå¯Ÿè¦ç‚¹ï¼šå¦‚ä½•é€šè¿‡è®¾è®¡æœºåˆ¶æ¥ä¿è¯å¼ºç¨³å®šæ€§ï¼Œéœ€è¦è€ƒè™‘åˆ°å„ç§æƒ…å†µï¼Œä¿è¯ä¸šåŠ¡é«˜å¯ç”¨
>
> æŠ€æœ¯æ–¹å¼ä¸é™ï¼Œwsç›¸å…³ä»£ç ç”¨jsï¼Œä¸å¼•å…¥ç°æœ‰ç”Ÿæ€çš„wsçš„npmåº“

#### 1. å‚è€ƒé¡µé¢

- https://cloud.tencent.com/developer/article/2168088
- https://juejin.cn/post/7128030988479037447
- https://github.com/nuls-io/nuls-v2-docs/blob/master/design-zh-CHS/r.rpc-tool-websocket%E8%AE%BE%E8%AE%A1v1.3.md
- https://socket.io/zh-CN/docs/v4/
- https://blog.csdn.net/niugang0920/article/details/83686205
- [ååˆ†é’Ÿäº†è§£WebSocketåè®®](https://zhuanlan.zhihu.com/p/145628937)
  - åŸºäºTCP/IPåè®®ï¼Œç‹¬ç«‹äºHTTPåè®®çš„é€šä¿¡åè®®
  - åŒå‘é€šè®¯ï¼Œæœ‰çŠ¶æ€ï¼Œå®¢æˆ·ç«¯ä¸€ï¼ˆå¤šï¼‰ä¸ªä¸æœåŠ¡ç«¯ä¸€ï¼ˆå¤šï¼‰åŒå‘å®æ—¶å“åº”ï¼ˆå®¢æˆ·ç«¯ â‡„ æœåŠ¡ç«¯ï¼‰
  - åº”ç”¨åœ¨æµè§ˆå™¨çš„ Socket ï¼ˆæ˜¯ Socket æ¨¡å‹æ¥å£çš„å®ç°ï¼‰ï¼ŒSocket æ˜¯ä¸€ä¸ªç½‘ç»œé€šä¿¡æ¥å£ ï¼ˆé€šä¿¡è§„èŒƒï¼‰
  - [RFC 6455 è§„èŒƒ](https://link.zhihu.com/?target=https%3A//tools.ietf.org/html/rfc6455) æ˜¯å¤§å¤šæ•°æµè§ˆå™¨å®ç°çš„ WebSocket API åè®®ã€‚
  - **WebSocketåè®®ä¸å—åŒæºç­–ç•¥å½±å“ã€‚**
  - å‘å¿ƒè·³åŒ…æœ€å¥½æœåŠ¡å™¨å‘é€ï¼Ÿ

- [WebSocketsç‰ˆæœ¬ä¹‹é—´çš„åè®®å·®å¼‚æ˜¯ä»€ä¹ˆï¼Ÿ](http://news.558idc.com/94700.html)

- [ä½¿ç”¨WebSocket æ—¶çš„å®‰å…¨æ³¨æ„äº‹é¡¹](https://zhuanlan.zhihu.com/p/628423871)
- [Websocket å¯ä»¥ç©å‡ºäº›ä»€ä¹ˆèŠ±å„¿ï¼Ÿ](https://zhuanlan.zhihu.com/p/460470270)
- [WebSocket æµ…æ](https://zhuanlan.zhihu.com/p/25592934)
- [websocketé•¿æ–‡æœ¬é—®é¢˜ï¼Ÿ](https://segmentfault.com/q/1010000010620489)
- å¾…çœ‹
  - https://www.cnblogs.com/cangqinglang/p/15991378.html
  - [ã€è¯‘ã€‘Engine.IOåè®®](https://www.kevinwu0904.top/blogs/network-engineio/)


#### 2.å®ç°åŠŸèƒ½

- è¿æ¥é”™è¯¯å¤„ç†ï¼šå½“è¿æ¥å¤±è´¥æ—¶ï¼Œä½ éœ€è¦ç›‘å¬erroräº‹ä»¶å’Œcloseäº‹ä»¶ï¼Œè·å–é”™è¯¯ä¿¡æ¯å’Œå…³é—­ç ï¼Œå¹¶å°è¯•é‡æ–°è¿æ¥æˆ–æŠ¥å‘Šé”™è¯¯ã€‚
- å¿ƒè·³æ£€æµ‹ï¼šä¸ºäº†æ£€æµ‹å’Œå…³é—­æ–­å¼€çš„è¿æ¥ï¼Œä½ éœ€è¦å®šæœŸå‘é€å¿ƒè·³åŒ…ï¼ˆpingå¸§ï¼‰å¹¶ç­‰å¾…å“åº”ï¼ˆpongå¸§ï¼‰ã€‚å¦‚æœæ²¡æœ‰æ”¶åˆ°å“åº”ï¼Œä½ å¯ä»¥å…³é—­è¿æ¥å¹¶é‡æ–°è¿æ¥
- æ•°æ®å‹ç¼©ï¼šä½ å¯ä»¥ä½¿ç”¨permessage-deflateæ‰©å±•æ¥å‹ç¼©æ•°æ®è´Ÿè½½ã€‚è¿™ä¸ªæ‰©å±•å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´åå•†å‹ç¼©ç®—æ³•å’Œå‚æ•°







## å‰ç«¯å®‰å…¨

https://www.finclip.com/news/f/39404.html



### xssï¼ˆCross Site Scriptingï¼‰è·¨ç«™è„šæœ¬æ”»å‡»

xssè¯´ç™½äº†å°±æ˜¯æ”»å‡»è€…æƒ³å°½ä¸€åˆ‡çš„æ–¹æ³•ï¼Œå°†**å¯æ‰§è¡Œçš„ä»£ç æ³¨å…¥åˆ°æˆ‘ä»¬çš„é¡µé¢ä¸­ï¼Œè®©é¡µé¢è¿›è¡Œä¸€äº›éæ³•çš„æ“ä½œ**ï¼ˆæµè§ˆå™¨é”™è¯¯çš„å°†æ”»å‡»è€…[è¾“å…¥](https://www.finclip.com/news/tags-755.html)çš„æ•°æ®å½“åšJavaScriptè„šæœ¬ç»™æ‰§è¡Œäº†ï¼‰

ä»æ”»å‡»çš„æ—¶é—´ä¸Šå¯ä»¥åˆ†ä¸º**æŒä¹…å‹ï¼ˆå­˜å‚¨å‹ï¼‰**æ”»å‡»å’Œ**éæŒä¹…å‹ï¼ˆåå°„å‹ï¼‰**æ”»å‡»ã€‚

**æŒä¹…å‹**

æŒä¹…å‹çš„å°±æ˜¯æŒ‡**æ”»å‡»è€…é€šè¿‡æˆ‘ä»¬çš„é¡µé¢ï¼Œå°†å…·æœ‰æ”»å‡»æ€§çš„ä»£ç é€šè¿‡æœåŠ¡å™¨ä¿å­˜åˆ°äº†æ•°æ®åº“**ä¸­ï¼Œå¯¼è‡´å…¶ä»–çš„ç”¨æˆ·åœ¨æµè§ˆå½“å‰é¡µé¢æ—¶ï¼Œå—åˆ°äº†æ”»å‡»ã€‚æœ€å¸¸è§çš„å°±æ˜¯å…·æœ‰è¯„è®ºåŠŸèƒ½çš„é¡µé¢ã€‚

**éæŒä¹…å‹**

éæŒä¹…å‹ç›¸æ¯”äºæŒä¹…å‹æ”»å‡»å±å®³å°±å°çš„å¤šäº†ï¼Œä¸€èˆ¬é€šè¿‡**ä¿®æ”¹ URL å‚æ•°çš„æ–¹å¼åŠ å…¥æ”»å‡»ä»£ç ï¼Œè¯±å¯¼ç”¨æˆ·è®¿é—®é“¾æ¥ä»è€Œè¿›è¡Œæ”»å‡»**ã€‚

> **åœºæ™¯**
>
> 1.é¡µé¢ä¸­æ‰€æœ‰çš„inputæ¡†
>
> 2.window.locationï¼ˆhrefã€hashç­‰ï¼‰
>
> 3.window.name
>
> 4.document.referrer // ä¿å­˜ç€é“¾æ¥åˆ°å½“å‰é¡µé¢çš„é‚£ä¸ªé¡µé¢çš„URLã€‚
>
> 5.document.cookie
>
> 6.localstorage
>
> 7.XMLHttpRequestè¿”å›çš„æ•°æ®

> **å±å®³**
>
> ç½‘ç»œé’“é±¼,åŒ…æ‹¬ç›—å–å„ç±»ç”¨æˆ·è´¦å·;
>
> çªƒå–ç”¨æˆ·cookiesèµ„æ–™,ä»è€Œè·å–ç”¨æˆ·éšç§ä¿¡æ¯,æˆ–åˆ©ç”¨ç”¨æˆ·èº«ä»½è¿›ä¸€æ­¥å¯¹ç½‘ç«™æ‰§è¡Œæ“ä½œ;
>
> åŠ«æŒç”¨æˆ·(æµè§ˆå™¨)ä¼šè¯,ä»è€Œæ‰§è¡Œä»»æ„æ“ä½œ,ä¾‹å¦‚è¿›è¡Œéæ³•è½¬è´¦ã€å¼ºåˆ¶å‘è¡¨æ—¥å¿—ã€å‘é€ç”µå­é‚®ä»¶ç­‰;
>
> å¼ºåˆ¶å¼¹å‡ºå¹¿å‘Šé¡µé¢ã€åˆ·æµé‡ç­‰;
>
> ç½‘é¡µæŒ‚é©¬;è¿›è¡Œæ¶æ„æ“ä½œ,ä¾‹å¦‚ä»»æ„ç¯¡æ”¹é¡µé¢ä¿¡æ¯ã€åˆ é™¤æ–‡ç« ç­‰ è¿›è¡Œå¤§é‡çš„å®¢æˆ·ç«¯æ”»å‡»,å¦‚DDoSæ”»å‡»;
>
> è·å–å®¢æˆ·ç«¯ä¿¡æ¯,ä¾‹å¦‚ç”¨æˆ·çš„æµè§ˆå†å²ã€çœŸå®IPã€å¼€æ”¾ç«¯å£ç­‰;
>
> æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶ä»–ç½‘ç«™å‘èµ·æ”»å‡»;
>
> ç»“åˆå…¶ä»–æ¼æ´,å¦‚CSRFæ¼æ´,å®æ–½è¿›ä¸€æ­¥ä½œæ¶;
>
> æå‡ç”¨æˆ·æƒé™,åŒ…æ‹¬è¿›ä¸€æ­¥æ¸—é€ç½‘ç«™;
>
> ä¼ æ’­è·¨ç«™è„šæœ¬ï¼Œè •è™«ç­‰;

**é˜²å¾¡**

é˜²å¾¡çš„æ–¹å¼æ€»çš„æ¥è¯´å°±æ˜¯ä¸¤æ–¹é¢ã€‚ä¸€æ–¹é¢æ˜¯éªŒè¯æ‰€æœ‰è¾“å…¥æ•°æ®ï¼Œæœ‰æ•ˆæ£€æµ‹æ”»å‡»ï¼›å¦ä¸€æ–¹å°±æ˜¯å¯¹æ‰€æœ‰[è¾“å‡º](https://www.finclip.com/news/tags-944.html)æ•°æ®è¿›è¡Œé€‚å½“çš„ç¼–ç ï¼Œä»¥é˜²æ­¢ä»»ä½•å·²æˆåŠŸæ³¨å…¥çš„è„šæœ¬åœ¨æµè§ˆå™¨ç«¯è¿è¡Œã€‚

> **1. è½¬ä¹‰å­—ç¬¦**
>
> ä¸€èˆ¬ä¼šè½¬ï¼ˆ&ã€<ã€>ã€"ã€â€™ã€/ï¼‰è¿™6ä¸ªå­—ç¬¦ã€‚
>
> æ¯”å¦‚è¯´å°†
>
> <script></script>
>
> 1
>
> æ ‡ç­¾å­˜å‚¨ä¸º
>
> &lt;script&gt&lt;/script&gt

> **2.CSPï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰**
>
> CSPé€šè¿‡æŒ‡å®šæœ‰æ•ˆåŸŸâ€”â€”å³æµè§ˆå™¨è®¤å¯çš„å¯æ‰§è¡Œè„šæœ¬çš„æœ‰æ•ˆæ¥æºâ€”â€”ä½¿æœåŠ¡å™¨ç®¡ç†è€…æœ‰èƒ½åŠ›å‡å°‘æˆ–æ¶ˆé™¤XSSæ”»å‡»æ‰€ä¾èµ–çš„è½½ä½“ã€‚ä¸€ä¸ªCSPå…¼å®¹çš„æµè§ˆå™¨å°†ä¼šä»…æ‰§è¡Œä»ç™½åå• åŸŸè·å–åˆ°çš„è„šæœ¬æ–‡ä»¶ï¼Œå¿½ç•¥æ‰€æœ‰çš„å…¶ä»–è„šæœ¬

### CSRF(Cross Site Request Forgery)è·¨ç«™è¯·æ±‚ä¼ªé€ 

**CSRF(Cross Site Request Forgery)ï¼Œå³è·¨ç«™è¯·æ±‚ä¼ªé€ **ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„Webæ”»å‡»ã€‚

CSRFæ”»å‡»è¿‡ç¨‹çš„å—å®³è€…ç”¨æˆ·ç™»å½•ç½‘ç«™Aï¼Œè¾“å…¥ä¸ªäººä¿¡æ¯ï¼Œåœ¨æœ¬åœ°ä¿å­˜æœåŠ¡å™¨ç”Ÿæˆçš„cookieã€‚

ç„¶ååœ¨Aç½‘ç«™ç‚¹å‡»ç”±æ”»å‡»è€…æ„å»ºä¸€æ¡æ¶æ„é“¾æ¥è·³è½¬åˆ°Bç½‘ç«™ï¼Œç„¶åBç½‘ç«™æºå¸¦ç€çš„ç”¨æˆ·cookieä¿¡æ¯å»è®¿é—®Bç½‘ç«™ã€‚

è®©Aç½‘ç«™é€ æˆæ˜¯ç”¨æˆ·è‡ªå·±è®¿é—®çš„å‡ç›¸ï¼Œä»è€Œæ¥è¿›è¡Œä¸€äº›åˆ—çš„æ“ä½œï¼Œå¸¸è§çš„å°±æ˜¯è½¬è´¦ã€‚

> **å±å®³**
>
> é€šè¿‡åŸºäºå—ä¿¡ä»»çš„è¾“å…¥formå’Œå¯¹ç‰¹å®šè¡Œä¸ºæ— éœ€æˆæƒçš„å·²è®¤è¯çš„ç”¨æˆ·æ¥æ‰§è¡ŒæŸäº›è¡Œä¸ºçš„webåº”ç”¨ã€‚å·²ç»é€šè¿‡è¢«ä¿å­˜åœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­çš„cookieè¿›è¡Œè®¤è¯çš„ç”¨æˆ·å°†åœ¨å®Œå…¨æ— çŸ¥çš„æƒ…å†µä¸‹å‘é€HTTPè¯·æ±‚åˆ°é‚£ä¸ªä¿¡ä»»ä»–çš„ç«™ç‚¹ï¼Œè¿›è€Œè¿›è¡Œç”¨æˆ·ä¸æ„¿åšçš„è¡Œä¸ºã€‚

> **é˜²å¾¡**
>
> å¤§è‡´è¦éµå¾ªä»¥ä¸‹å‡ ç‚¹è§„åˆ™ï¼š
>
> - Get è¯·æ±‚ä¸å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹
>
> - ä¸è®©ç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®åˆ°ç”¨æˆ· Cookie
>   - Cookie çš„SameSiteå±æ€§ç”¨æ¥é™åˆ¶ç¬¬ä¸‰æ–¹ Cookieï¼Œä»è€Œå‡å°‘å®‰å…¨é£é™©ã€‚
>
> - é˜»æ­¢ç¬¬ä¸‰æ–¹ç½‘ç«™è¯·æ±‚æ¥å£
>
> - è¯·æ±‚æ—¶é™„å¸¦éªŒè¯ä¿¡æ¯ï¼Œæ¯”å¦‚éªŒè¯ç æˆ–è€…Token
> - éªŒè¯ Referer, éªŒè¯ä¸€ä¸‹å‘èµ·è¯·æ±‚çš„é¡µé¢æ˜¯ä¸æ˜¯æˆ‘ä»¬çš„ç³»ç»Ÿ
> - è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰è®¾ç½®æˆ‘ä»¬è‡ªå·±çš„é¡µé¢

### SQLè„šæœ¬æ³¨å…¥ï¼ˆSQL Injectionï¼‰

**SQLæ³¨å…¥(SQL Injection)**ï¼Œåº”ç”¨ç¨‹åºåœ¨å‘åå°æ•°æ®åº“ä¼ é€’SQL(Structured Query Languageï¼Œç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€)æ—¶ï¼Œæ”»å‡»è€…å°†SQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•æäº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤

> å±å®³
>
> 1.è·å–ä¸å±äºå½“å‰ç”¨æˆ·çš„ç®¡ç†æƒé™
>
> 2.å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥

> é˜²å¾¡
>
> 1ã€å¢åŠ é»‘åå•æˆ–è€…ç™½åå•éªŒè¯
>
> **ç™½åå•éªŒè¯ä¸€èˆ¬æŒ‡ï¼Œæ£€æŸ¥ç”¨æˆ·è¾“å…¥æ˜¯å¦æ˜¯ç¬¦åˆé¢„æœŸçš„ç±»å‹ã€é•¿åº¦ã€æ•°å€¼èŒƒå›´æˆ–è€…å…¶ä»–æ ¼å¼æ ‡å‡†**ã€‚
>
> é»‘åå•éªŒè¯æ˜¯æŒ‡ï¼Œ**è‹¥åœ¨ç”¨æˆ·è¾“å…¥ä¸­ï¼ŒåŒ…å«æ˜æ˜¾çš„æ¶æ„å†…å®¹åˆ™æ‹’ç»è¯¥æ¡ç”¨æˆ·è¯·æ±‚**ã€‚åœ¨ä½¿ç”¨ç™½åå•éªŒè¯æ—¶ï¼Œä¸€èˆ¬ä¼šé…åˆé»‘åå•éªŒè¯ã€‚
>
> 2ã€å®‰å…¨æ£€æµ‹
>
> åœ¨é¡¹ç›®å®Œæˆçš„æ—¶å€™ï¼Œå§‹ç»ˆåšæŒå®‰å…¨æ£€æµ‹ã€‚
>
> 3ã€é˜²æ­¢ç³»ç»Ÿæ•æ„Ÿä¿¡æ¯æ³„éœ²
>
> å¯¹æ•°æ®è¡¨çš„è®¿é—®æƒé™è¿›è¡Œä¸¥æ ¼æ§åˆ¶ï¼Œå°½é‡é™åˆ¶ç”¨æˆ·ä¸å¿…è¦çš„è®¿é—®æƒé™

### ä¸Šä¼ æ¼æ´

æŒ‡æ”»å‡»è€…ä¸Šä¼ äº†ä¸€ä¸ªå¯æ‰§è¡Œçš„æ–‡ä»¶åˆ°æœåŠ¡å™¨å¹¶èƒ½å¤ŸæˆåŠŸæ‰§è¡Œã€‚

å±å®³

ä¸Šä¼ æ¼æ´ä¸SQLæ³¨å…¥æˆ– XSSç›¸æ¯” , å…¶é£é™©æ›´å¤§ , å¦‚æœ Webåº”ç”¨ç¨‹åºå­˜åœ¨ä¸Šä¼ æ¼æ´ ,æ”»å‡»è€…ä¸Šä¼ çš„æ–‡ä»¶æ˜¯Webè„šæœ¬è¯­è¨€ï¼ŒæœåŠ¡å™¨çš„Webå®¹å™¨è§£é‡Šå¹¶æ‰§è¡Œäº†ç”¨æˆ·ä¸Šä¼ çš„è„šæœ¬ï¼Œå¯¼è‡´ä»£ç æ‰§è¡Œã€‚å¦‚æœä¸Šä¼ çš„æ–‡ä»¶æ˜¯Flashçš„ç­–ç•¥æ–‡ä»¶crossdomain.xmlï¼Œé»‘å®¢ç”¨ä»¥æ§åˆ¶Flashåœ¨è¯¥åŸŸä¸‹çš„è¡Œä¸ºã€‚å¦‚æœä¸Šä¼ çš„æ–‡ä»¶æ˜¯ç—…æ¯’ã€æœ¨é©¬æ–‡ä»¶ï¼Œé»‘å®¢ç”¨ä»¥è¯±éª—ç”¨æˆ·æˆ–è€…ç®¡ç†å‘˜ä¸‹è½½æ‰§è¡Œã€‚å¦‚æœä¸Šä¼ çš„æ–‡ä»¶æ˜¯é’“é±¼å›¾ç‰‡æˆ–ä¸ºåŒ…å«äº†è„šæœ¬çš„å›¾ç‰‡ï¼Œåœ¨æŸäº›ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸­ä¼šè¢«ä½œä¸ºè„šæœ¬æ‰§è¡Œï¼Œè¢«ç”¨äºé’“é±¼å’Œæ¬ºè¯ˆã€‚ç”šè‡³æ”»å‡»è€…å¯ä»¥ç›´æ¥ä¸Šä¼ ä¸€ä¸ªwebshellåˆ°æœåŠ¡å™¨ä¸Š

å®Œå…¨æ§åˆ¶ç³»ç»Ÿæˆ–è‡´ä½¿ç³»ç»Ÿç˜«ç—ªã€‚



> **é˜²å¾¡**
>
> **å®¢æˆ·ç«¯**
>
> - javascriptæ ¡éªŒï¼ˆä¸€èˆ¬åªæ ¡éªŒåç¼€åï¼‰
>
> **æœåŠ¡ç«¯æ ¡éªŒ**
>
> - æ–‡ä»¶å¤´content-typeå­—æ®µæ ¡éªŒï¼ˆimage/gifï¼‰
>
> - æ–‡ä»¶å†…å®¹å¤´æ ¡éªŒï¼ˆGIF89aï¼‰
>
> - åç¼€åé»‘åå•æ ¡éªŒ
>
> - åç¼€åç™½åå•æ ¡éªŒ
>
> - è‡ªå®šä¹‰æ­£åˆ™æ ¡éªŒ

###  imgæ ‡ç­¾çš„å†æ¬¡åˆ©ç”¨ onerroräº‹ä»¶

é€šè¿‡å°†å›¾ç‰‡åœ°å€è®¤ä¸ºçš„è®¾ç½®é”™è¯¯ï¼Œä»è€Œå¼•å‘æ‰§è¡Œonerroräº‹ä»¶. ç³»ç»Ÿæ‰§è¡Œæ”»å‡»è€…çš„ ä»£ç ï¼Œé€ æˆæ•°æ®æ³„éœ²

é˜²å¾¡

å¯ä»¥å‚è€ƒCSPï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰

### ç‚¹å‡»åŠ«æŒ

è¿™æ˜¯ä¸€ç§æ¬ºéª—æ€§æ¯”è¾ƒå¼ºï¼ŒåŒæ—¶ä¹Ÿéœ€è¦ç”¨æˆ·é«˜åº¦å‚ä¸æ‰èƒ½å®Œæˆçš„ä¸€ç§æ”»å‡»ã€‚

é€šå¸¸çš„æ”»å‡»æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š

ã€€ã€€1ã€æ”»å‡»è€…æ„é€ ä¸€ä¸ªè¯±å¯¼ç”¨æˆ·ç‚¹å‡»çš„å†…å®¹ï¼Œå¦‚Webé¡µé¢å°æ¸¸æˆ

ã€€ã€€2ã€å°†è¢«æ”»å‡»çš„é¡µé¢æ”¾å…¥åˆ°iframeå½“ä¸­

ã€€ã€€3ã€åˆ©ç”¨z-indexç­‰CSSæ ·å¼å°†è¿™ä¸ªiframeå åŠ åˆ°å°æ¸¸æˆçš„å‚ç›´æ–¹å‘çš„æ­£ä¸Šæ–¹

ã€€ã€€4ã€æŠŠiframeè®¾ç½®ä¸º100%é€æ˜åº¦

ã€€ã€€5ã€å—å®³è€…è®¿é—®è¿™ä¸ªé¡µé¢ï¼Œè‚‰çœ¼çœ‹åˆ°çš„æ˜¯ä¸€ä¸ªå°æ¸¸æˆï¼Œå¦‚æœå—åˆ°è¯±å¯¼è¿›è¡Œäº†ç‚¹å‡»çš„è¯ï¼Œå®é™…ä¸Šç‚¹å‡»åˆ°çš„å´æ˜¯iframeä¸­çš„é¡µé¢

> å±å®³
>
> ç‚¹å‡»åŠ«æŒçš„å±å®³åœ¨äºï¼Œæ”»å‡»åˆ©ç”¨äº†å—å®³è€…çš„ç”¨æˆ·èº«ä»½ï¼Œåœ¨å…¶ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¿›è¡Œä¸€äº›æ“ä½œã€‚

> é˜²å¾¡
>
> X-FRAME-OPTIONS
>
> è®¾ç½®é¡µé¢æ˜¯å¦å¯ä»¥åœ¨æ ‡ç­¾ä¸­æ˜¾ç¤º
>
> 1ã€DENYï¼šä¸èƒ½è¢«åµŒå…¥åˆ°ä»»ä½•iframeæˆ–è€…frameä¸­ã€‚
>
> 2ã€SAMEORIGINï¼šé¡µé¢åªèƒ½è¢«æœ¬ç«™é¡µé¢åµŒå…¥åˆ°iframeæˆ–è€…frameä¸­
>
> 3ã€ALLOW-FROM uriï¼šåªèƒ½è¢«åµŒå…¥åˆ°æŒ‡å®šåŸŸåçš„æ¡†æ¶ä¸­

###  ä¸å®‰å…¨çš„ç¬¬ä¸‰æ–¹ä¾èµ– CDN

åŸç†

åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­å¼•ç”¨çš„ä¸€äº›åœ¨çº¿çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå¯èƒ½ä¼šå­˜åœ¨è¢«åˆ«äººè´¡çŒ®çš„å±å®³ï¼Œæ˜¯çš„æˆ‘ä»¬çš„ç³»ç»Ÿä¸­æ‰§è¡Œä¸€äº›éå¸¸è§„çš„æ“ä½œ

### ç™»å½•çš„è´¦å·å¯†ç ä¸èƒ½æ˜æ–‡ä¼ è¾“

### httpså®‰å…¨åŠ å¯†



## ä»£ç æ€è€ƒ

### é¡¹ç›®ç»“æ„åˆ’åˆ†

#### [èŠèŠä¸­åå°å‰ç«¯åº”ç”¨ï¼šç›®å½•ç»“æ„åˆ’åˆ†æ¨¡å¼](https://ourai.ws/posts/patterns-of-directory-structure-in-frontend-projects/)	

##### 0. é‡ç”Ÿ

```js
project/src
   â”œâ”€â”€ api
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ assets
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ components
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ pages
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ plugins
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ router
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ types
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ App.vue
   â””â”€â”€ main.ts
```



##### 1. åˆ†å±‚

![image-20230601093207030](C:\Users\31579\AppData\Roaming\Typora\typora-user-images\image-20230601093207030.png)



DDDé¢†åŸŸé©±åŠ¨è®¾è®¡ç»“è®º--ã€‹**é¢†åŸŸæˆ–ä¸šåŠ¡**å»æ‹†åˆ†æ¨¡å—ï¼Œå†åœ¨æ¯ä¸ªæ¨¡å—ä¸­ç»´æŠ¤**é¢†åŸŸæ¨¡å‹å’Œä¸šåŠ¡è§„åˆ™**ç­‰çš„ç›¸å…³æ–‡ä»¶

- domainï¼šè¿™éƒ¨åˆ†ä»£ç ä¸ä¼šå—é¡µé¢çš„å˜åŒ–è€Œæ”¹å˜ï¼Œåªæœ‰ä¸šåŠ¡çš„å˜åŒ–æˆ–è€…å¯¹æŠ½è±¡çš„å®Œå–„æ‰ä¼šæ”¹å˜

  - ```text
    domain
       â”œâ”€â”€ knowledge-base
       â”‚   â”œâ”€â”€ model.ts
       â”‚   â”œâ”€â”€ repository.ts
       â”‚   â”œâ”€â”€ ...
       â”‚   â””â”€â”€ index.ts
       â”œâ”€â”€ knowledge-graph
       â”‚   â”œâ”€â”€ model.ts
       â”‚   â”œâ”€â”€ repository.ts
       â”‚   â”œâ”€â”€ ...
       â”‚   â””â”€â”€ index.ts
       â”œâ”€â”€ robot
       â”‚   â”œâ”€â”€ model.ts
       â”‚   â”œâ”€â”€ repository.ts
       â”‚   â”œâ”€â”€ ...
       â”‚   â””â”€â”€ index.ts
       â””â”€â”€ ...
    ```

  - model.tsæ˜¯å¯¹é¢†åŸŸæ¨¡å‹æˆ–ä¸šåŠ¡å®ä½“çš„æè¿°

  - repository.tsåˆ™ä¸»è¦ç”¨æ¥å­˜å–èµ„æºã€‚getter, setter

- sharedï¼šå…±äº«èµ„æºæ˜¯ç±»å‹å®šä¹‰ã€å·¥å…·å‡½æ•°ã€å…¨å±€æ ·å¼ã€åŸºç¡€ç»„ä»¶ç­‰é¢†åŸŸåŠä¸šåŠ¡æ— å…³çš„ä»£ç 

  - ```text
    shared
       â”œâ”€â”€ components
       â”‚   â”œâ”€â”€ button
       â”‚   â”‚   â””â”€â”€ ...
       â”‚   â”œâ”€â”€ icon
       â”‚   â”‚   â””â”€â”€ ...
       â”‚   â”œâ”€â”€ ...
       â”‚   â””â”€â”€ index.ts
       â”œâ”€â”€ styles
       â”‚   â”œâ”€â”€ normalize.scss
       â”‚   â”œâ”€â”€ reset.scss
       â”‚   â””â”€â”€ utils.scss
       â”œâ”€â”€ types
       â”‚   â”œâ”€â”€ ...
       â”‚   â””â”€â”€ index.ts
       â”œâ”€â”€ utils
       â”‚   â”œâ”€â”€ date.ts
       â”‚   â”œâ”€â”€ url.ts
       â”‚   â”œâ”€â”€ ...
       â”‚   â””â”€â”€ index.ts
       â””â”€â”€ ...
    ```

- presentationï¼šç»´æŠ¤ä¸é¢†åŸŸåŠä¸šåŠ¡ç›¸å…³ä¸”å—è§†å›¾åº“/æ¡†æ¶å½±å“çš„ä»£ç 

  - ```text
    presentation
       â”œâ”€â”€ aspects
       â”‚   â”œâ”€â”€ http.ts
       â”‚   â”œâ”€â”€ router.ts
       â”‚   â”œâ”€â”€ ...
       â”‚   â””â”€â”€ index.ts
       â”œâ”€â”€ layouts
       â”‚   â””â”€â”€ ...
       â”œâ”€â”€ router
       â”‚   â””â”€â”€ ...
       â”œâ”€â”€ views
       â”‚   â”œâ”€â”€ knowledge-base
       â”‚   â”‚   â”œâ”€â”€ knowledge-base-detail
       â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeBaseDetail.vue
       â”‚   â”‚   â”‚   â”œâ”€â”€ ...
       â”‚   â”‚   â”‚   â””â”€â”€ style.scss
       â”‚   â”‚   â”œâ”€â”€ knowledge-base-form
       â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeBaseForm.vue
       â”‚   â”‚   â”‚   â”œâ”€â”€ ...
       â”‚   â”‚   â”‚   â””â”€â”€ style.scss
       â”‚   â”‚   â”œâ”€â”€ knowledge-base-list
       â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeBaseList.vue
       â”‚   â”‚   â”‚   â”œâ”€â”€ ...
       â”‚   â”‚   â”‚   â””â”€â”€ style.scss
       â”‚   â”‚   â”œâ”€â”€ helper.ts
       â”‚   â”‚   â””â”€â”€ KnowledgeBaseView.ts
       â”‚   â””â”€â”€ ...
       â””â”€â”€ widgets
           â””â”€â”€ ...
    ```

  - `views` ä¸‹æ˜¯æŒ‰é¢†åŸŸæˆ–ä¸šåŠ¡æ‹†åˆ†æ¨¡å—ï¼ˆä¸é¢†åŸŸå±‚ç›¸å¯¹åº”ï¼‰çš„è§†å›¾/é¡µé¢
  - `widgets` æ˜¯è·¨æ¨¡å—ä½¿ç”¨çš„éƒ¨ä»¶/ä¸šåŠ¡ç»„ä»¶ï¼›
  - `layouts` æ˜¯è§†å›¾/é¡µé¢ä¼šç”¨åˆ°çš„æ•´ä½“å¸ƒå±€
  - `router` æ˜¯æŒ‰èœå•ç»“æ„åˆ’åˆ†çš„è·¯ç”±é…ç½®
  - `aspects` åˆ™æ˜¯è¯·æ±‚æ‹¦æˆªã€è·¯ç”±å®ˆå«ç­‰åˆ‡é¢

![ã€Œåˆ†å±‚ã€æ¨¡å¼çš„æ¨¡å—å…³ç³»](https://ourai.ws/assets/posts/20210612/layered-f35bef5d7c4f751b7f247e48ce06a6f5345451d0957b70995ae8e285835db905.png)

##### 2. æ¨¡å—åŒ–

ã€Œåˆ†å±‚ã€æ¨¡å¼ä¹Ÿè¶³ä»¥åº”å¯¹å¤æ‚çš„å‰ç«¯é¡¹ç›®ï¼Œä½†å®ƒ**å†…èšæ€§**æ²¡æœ‰ç†æƒ³ä¸­é‚£ä¹ˆé«˜

```text
project/src
   â”œâ”€â”€ [domain-specific-module]
   â”‚   â”œâ”€â”€ views
   â”‚   â”‚   â”œâ”€â”€ [detail-view]
   â”‚   â”‚   â”‚   â”œâ”€â”€ [DetailViewComponent].vue
   â”‚   â”‚   â”‚   â”œâ”€â”€ ...
   â”‚   â”‚   â”‚   â””â”€â”€ style.scss
   â”‚   â”‚   â”œâ”€â”€ [form-view]
   â”‚   â”‚   â”‚   â”œâ”€â”€ [FormViewComponent].vue
   â”‚   â”‚   â”‚   â”œâ”€â”€ ...
   â”‚   â”‚   â”‚   â””â”€â”€ style.scss
   â”‚   â”‚   â””â”€â”€ [list-view]
   â”‚   â”‚       â”œâ”€â”€ [ListViewComponent].vue
   â”‚   â”‚       â”œâ”€â”€ ...
   â”‚   â”‚       â””â”€â”€ style.scss
   â”‚   â”œâ”€â”€ widgets
   â”‚   â”‚   â””â”€â”€ [domain-specific-widget]
   â”‚   â”‚       â””â”€â”€ ...
   â”‚   â”œâ”€â”€ helper.ts
   â”‚   â”œâ”€â”€ index.ts
   â”‚   â”œâ”€â”€ model.ts
   â”‚   â”œâ”€â”€ repository.ts
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ entry
   â”‚   â”œâ”€â”€ aspects
   â”‚   â”‚   â”œâ”€â”€ http.ts
   â”‚   â”‚   â”œâ”€â”€ router.ts
   â”‚   â”‚   â”œâ”€â”€ ...
   â”‚   â”‚   â””â”€â”€ index.ts
   â”‚   â”œâ”€â”€ layouts
   â”‚   â”‚   â””â”€â”€ ...
   â”‚   â””â”€â”€ router
   â”‚       â””â”€â”€ ...
   â”œâ”€â”€ shared
   â”‚   â””â”€â”€ ...
   â”œâ”€â”€ App.vue
   â””â”€â”€ main.ts
```

å·®å¼‚ç‚¹å¦‚ä¸‹

-  `presentation` ä¸‹çš„ `views` å’Œ `widgets` æ‹¿æ‰åé‡å‘½åä¸º `entry`ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ã€Œå…¥å£ã€ï¼Œæ±‡é›†äº†å…¶ä»–å„ä¸ªæ¨¡å—çš„èµ„æº
- `domain` ä¸ `views` å’Œ `widgets` è¿›è¡Œäº†æ•´åˆï¼Œå½¢æˆå®Œå…¨çš„æŒ‰é¢†åŸŸæˆ–ä¸šåŠ¡æ‹†åˆ†çš„æ¨¡å—
- æ•´åˆåçš„ `widgets` æ„ä¹‰å‘ç”Ÿäº†å˜åŒ–ï¼Œä¸å†æ˜¯è·¨æ¨¡å—çš„ï¼Œè€Œæ˜¯å½“å‰æ¨¡å—ç‰¹å®šçš„ã€‚è™½è¯´å¦‚æ­¤ï¼Œä½†ä»å¯è¢«å…¶ä»–æ¨¡å—æ‰€ä½¿ç”¨â€”â€”**é€šè¿‡æ¨¡å—ä¾èµ–æŒ‡å®šçš„å½¢å¼**ã€‚æ¯ä¸ªé¢†åŸŸ/ä¸šåŠ¡æ¨¡å—ä¸‹æœ‰ä¸€ä¸ª `index.ts` æ–‡ä»¶ï¼Œç”¨äºæè¿°è¯¥æ¨¡å—ä¾èµ–å“ªäº›æ¨¡å—çš„ä»€ä¹ˆèµ„æºï¼ˆè¯·æ±‚æœåŠ¡ã€éƒ¨ä»¶/ä¸šåŠ¡ç»„ä»¶ç­‰ï¼‰ï¼Œä»¥åŠå®ƒå‘å…¶ä»–æ¨¡å—æä¾›ä»€ä¹ˆèµ„æºï¼Œæœ‰ç‚¹åƒ**Angular**
- ä¸ºäº†æé«˜çµæ´»æ€§ï¼Œæœ€å¥½è®¾è®¡å¹¶å®ç°ä¸€å¥—æ¨¡å—æ³¨å†Œä¸æŸ¥æ‰¾æœºåˆ¶ï¼Œä»¥æ›¿ä»£å¸¸è§„çš„ `import`ã€`export`ã€‚ç†æƒ³çŠ¶å†µä¸‹ï¼Œæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥è·¨åº”ç”¨ä½¿ç”¨ã€‚
- å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œè¯¥å¦‚ä½•çœ‹å¾…è¿™ä¸€ä¸ªä¸ªæ¨¡å—å‘¢ï¼Ÿå°±å½“å®ƒä»¬æ˜¯ npm åŒ…æˆ– Git Submodule å¥½äº†ã€‚

![ã€Œæ¨¡å—åŒ–ã€æ¨¡å¼çš„æ¨¡å—å…³ç³»](https://ourai.ws/assets/posts/20210612/modularized-65181c23afec961b70b37c0686799a05518a94f154f1254e1da2869b4fd77fa0.png)

#### å¤§å‹å‰ç«¯é¡¹ç›®ç»“æ„è®¾è®¡

```shell
â”œâ”€â”€ service                         # åç«¯æ¥å£ç®¡ç†
â”‚   â”œâ”€â”€ index.js                    # æ¥å£ç®¡ç†å‡ºå…¥å£
â”‚   â””â”€â”€ ...                         # å…·ä½“çš„ä¸åŒä¸šåŠ¡/æœåŠ¡æ¥å£æ–‡ä»¶ã€S-1ã€‘
â”œâ”€â”€ assets                          # é¡¹ç›®ä¾èµ–èµ„æºç®¡ç†
â”‚   â””â”€â”€ imgs                        # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ style                       # æ ·å¼èµ„æº
â”‚   â””â”€â”€ js                          # ä¾èµ–çš„ç¬¬ä¸‰æ–¹sdkä¹‹ç±»çš„jsèµ„æº
â”œâ”€â”€ components                      # é¡¹ç›®ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ public                      # å…¬å…±ç»„ä»¶/åŸºç¡€ç»„ä»¶ï¼ˆæ¯”å¦‚åŸºç¡€çš„æŒ‰é’®/è¾“å…¥æ¡†ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ index.js                # åŸºç¡€ç»„ä»¶çš„æ³¨å†Œæ–‡ä»¶ã€å¯é€‰ã€‘
â”‚   â”‚   â”œâ”€â”€ README.md               # ç»„ä»¶ä½¿ç”¨è¯´æ˜æ–‡æ¡£ã€å¯é€‰ã€‘
â”‚   â”‚   â””â”€â”€ ...                     # ç»„ä»¶
â”‚   â””â”€â”€ ....                        # åŸºç¡€æ€§çš„ä¸šåŠ¡ç»„ä»¶ï¼ˆæœ‰è¯¦ç»†è¯´æ˜ï¼‰ã€C-1ã€‘
â”œâ”€â”€ pages                           
â”‚   â”œâ”€â”€ modules                     # å…·ä½“ä¸šåŠ¡æ‰€å½’å±çš„æ–‡ä»¶å¤¹ï¼ˆå¯ä»¥ç”¨ä¸šåŠ¡åç§°ä½œä¸ºæ–‡ä»¶å¤¹åå­—ï¼‰
â”‚   â”‚   â”œâ”€â”€ components              # ä¸šåŠ¡æ‰€ç”¨åˆ°çš„ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views                   # ä¸šåŠ¡çš„æ‰€æœ‰é¡µé¢
â”‚   â”‚   â”œâ”€â”€ utils                   # ä¸šåŠ¡çš„å·¥å…·é›†
â”‚   â”‚   â”œâ”€â”€	static                  # ä¸šåŠ¡æ‰€ç”¨åˆ°çš„é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ service                 # ä¸šåŠ¡çš„åç«¯æ¥å£ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ store                   # ä¸šåŠ¡æ‰€ç”¨åˆ°çš„çŠ¶æ€åº“ï¼ˆæœ¬ç»“æ„åŸºäºVueï¼Œè¿™é‡Œæ˜¯ä¸šåŠ¡çš„Vuexï¼‰
â”‚   â”‚   â””â”€â”€ index.js                # ä¸šåŠ¡çš„å”¯ä¸€å‡ºå£ï¼ˆåŒ…å«è·¯ç”±ä¸çŠ¶æ€åº“ï¼‰
â”‚   â””â”€â”€ ....                        # å…¶ä»–ä¸šåŠ¡ã€P-1ã€‘
â”œâ”€â”€ config                          # é¡¹ç›®çš„åŸºç¡€é…ç½®
â”‚   â”œâ”€â”€ index.js                    # é…ç½®æ–‡ä»¶çš„å‡ºå…¥å£
â”‚   â””â”€â”€ ...                         # å…·ä½“çš„é…ç½®æ–‡ä»¶ã€C-2ã€‘
â”œâ”€â”€ router                          # é¡¹ç›®çš„è·¯ç”±ç®¡ç†
â”‚   â”œâ”€â”€ index.js                    # è·¯ç”±å‡ºå£
â”‚   â””â”€â”€ ...                         # ä¸è·¯ç”±æœ‰å…³çš„å…¶ä»–æ–‡ä»¶ã€R-1ã€‘
â”œâ”€â”€ store                           # é¡¹ç›®çŠ¶æ€åº“çš„ç®¡ç†
â”‚   â”œâ”€â”€ index.js                    # é¡¹ç›®çŠ¶æ€åº“çš„å‡ºå…¥å£
â”‚   â””â”€â”€ ...                         # å…·ä½“çš„åŸºç¡€æ¨¡å—ã€S-2ã€‘
â”œâ”€â”€ utils                           # é¡¹ç›®æ‰€ç”¨çš„å·¥å…·é›†ï¼ˆå°è£…çš„è¯·æ±‚ï¼Œè¡¨å•çš„éªŒè¯å‡½æ•°ï¼Œæ—¶é—´æ ¼å¼åŒ–.....çš„å·¥å…·ï¼‰
â”‚   â”œâ”€â”€ index.js                    # å·¥å…·çš„å…¥å£
â”‚   â””â”€â”€ ...                         # å…·ä½“çš„å„ä¸ªå·¥å…·ï¼ˆè¯·æ±‚å°è£…ã€æ­£åˆ™ã€éªŒè¯......ï¼‰ã€U-1ã€‘
â”œâ”€â”€ main.js                          
â”œâ”€â”€ App.vue

```



### é¡¹ç›®ç»éªŒ

[æˆ‘åœ¨ç¨å‹è¿™ä¸¤å¹´ï¼ˆä¸Šï¼‰](https://ourai.ws/posts/work-experience-at-servyou-part-1/)

[æˆ‘åœ¨ç¨å‹è¿™ä¸¤å¹´ï¼ˆä¸‹ï¼‰](https://ourai.ws/posts/work-experience-at-servyou-part-2/)

## ç™»å½•è®¤è¯

### JWT

[é˜®ä¸€å³°æ•™ç¨‹](https://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html)

æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å‘å›æœåŠ¡å™¨ã€‚JWT å°±æ˜¯è¿™ç§æ–¹æ¡ˆçš„ä¸€ä¸ªä»£è¡¨ã€‚

JWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚

- Headerï¼ˆå¤´éƒ¨ï¼‰

  - Header éƒ¨åˆ†æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œæè¿° JWT çš„å…ƒæ•°æ®ï¼Œé€šå¸¸æ˜¯ä¸‹é¢çš„æ ·å­ã€‚

  - ```javascript
    {
      "alg": "HS256",// è¡¨ç¤ºç­¾åçš„ç®—æ³•ï¼ˆalgorithmï¼‰ï¼Œé»˜è®¤æ˜¯ HMAC SHA256ï¼ˆå†™æˆ HS256ï¼‰
      "typ": "JWT"// typå±æ€§è¡¨ç¤ºè¿™ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰çš„ç±»å‹ï¼ˆtypeï¼‰ï¼ŒJWT ä»¤ç‰Œç»Ÿä¸€å†™ä¸ºJWT
    }
    ```
   - æœ€åï¼Œå°†ä¸Šé¢çš„ JSON å¯¹è±¡ä½¿ç”¨ Base64URL ç®—æ³•ï¼ˆè¯¦è§åæ–‡ï¼‰è½¬æˆå­—ç¬¦ä¸²ã€‚

- Payloadï¼ˆè´Ÿè½½ï¼‰ï¼šéƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ®

  - iss (issuer)ï¼šç­¾å‘äºº

  - exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´
  - sub (subject)ï¼šä¸»é¢˜
  - aud (audience)ï¼šå—ä¼—
  - nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´
  - iat (Issued At)ï¼šç­¾å‘æ—¶é—´
  - jti (JWT ID)ï¼šç¼–å·
  - é™¤äº†å®˜æ–¹å­—æ®µï¼Œä½ è¿˜å¯ä»¥åœ¨è¿™ä¸ªéƒ¨åˆ†å®šä¹‰ç§æœ‰å­—æ®µ
  - è¿™ä¸ª JSON å¯¹è±¡ä¹Ÿè¦ä½¿ç”¨ Base64URL ç®—æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚

- Signatureï¼ˆç­¾åï¼‰ï¼šSignature éƒ¨åˆ†æ˜¯å¯¹å‰ä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹ã€‚

  - é¦–å…ˆï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªå¯†é’¥ï¼ˆsecretï¼‰ã€‚è¿™ä¸ªå¯†é’¥åªæœ‰æœåŠ¡å™¨æ‰çŸ¥é“ï¼Œä¸èƒ½æ³„éœ²ç»™ç”¨æˆ·ã€‚ç„¶åï¼Œä½¿ç”¨ Header é‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆé»˜è®¤æ˜¯ HMAC SHA256ï¼‰ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å…¬å¼äº§ç”Ÿç­¾å

  - ```js
    HMACSHA256(
      base64UrlEncode(header) + "." +
      base64UrlEncode(payload), // è§£å¯†çš„payload
      secret //å¯†é’¥
    )
    ```

  - 

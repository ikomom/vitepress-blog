# é¢è¯•

## é“¾æ¥

[2021å¹´å‰ç«¯é¢è¯•å¿…è¯»æ–‡ç« ã€è¶…ä¸‰ç™¾ç¯‡æ–‡ç« /èµ å¤ä¹ å¯¼å›¾ã€‘](https://juejin.cn/post/6844904116339261447#heading-55)

[åšäº†ä¸€ä»½å‰ç«¯é¢è¯•å¤ä¹ è®¡åˆ’ï¼Œä¿ç†Ÿï½](https://juejin.cn/post/7061588533214969892#heading-30)

## HTML

### script æ ‡ç­¾ä¸­çš„ async å’Œ defer å±æ€§

[script æ ‡ç­¾ä¸­çš„ async å’Œ defer å±æ€§](https://juejin.cn/post/6894629999215640583)

- `script` ï¼š**ä¼šé˜»ç¢ HTML è§£æ**ï¼Œåªæœ‰ä¸‹è½½å¥½å¹¶æ‰§è¡Œå®Œè„šæœ¬æ‰ä¼šç»§ç»­è§£æ HTMLã€‚
- `async script` ï¼šè§£æ HTML è¿‡ç¨‹ä¸­è¿›è¡Œè„šæœ¬çš„**å¼‚æ­¥ä¸‹è½½**ï¼Œ**ä¸‹è½½æˆåŠŸç«‹é©¬æ‰§è¡Œ**ï¼Œæœ‰**å¯èƒ½ä¼šé˜»æ–­ HTML çš„è§£æ**ã€‚
- `defer script`ï¼šå®Œå…¨ä¸ä¼šé˜»ç¢ HTML çš„è§£æï¼Œè§£æå®Œæˆ(onContentLoaded)ä¹‹åå†æŒ‰ç…§**é¡ºåºæ‰§è¡Œè„šæœ¬**ã€‚

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ea091aed8364b88a653a13c4845a824~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

## js

### å¯¹è±¡å¤åˆ¶

https://developer.mozilla.org/zh-CN/docs/Glossary/Deep_copy

#### æµ…æ‹·è´





### å¯¹è±¡å¾ªç¯å¼•ç”¨ä¼šå‘ç”Ÿä»€ä¹ˆ

[ç®€å•èŠä¸€èŠJSä¸­çš„å¾ªç¯å¼•ç”¨åŠé—®é¢˜](https://www.cnblogs.com/zhangguicheng/p/12173538.html)

1. ï¼ˆç®€ç•¥çš„è¯´ä¸‹ï¼‰ä½¿ç”¨**å¼•ç”¨è®¡æ•°æ³•**æ—¶ï¼Œä¸¤ä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨ï¼Œå°±ç®—è¿è¡Œå®Œå°†ä¸¤ä¸ªå˜é‡éƒ½æ¸…ç©ºï¼Œå¼•ç”¨è®¡æ•°å™¨ä¹Ÿä¸ä¼šæ¸…ç©ºï¼Œå°±ä¼šä¼šé€ æˆå†…å­˜æ³„æ¼ï¼›ä½†æ˜¯ç°åœ¨çš„**æ ‡è®°æ¸…é™¤æ³•**ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜
   - **æ ‡è®°æ¸…é™¤**å›æ”¶ç­–ç•¥çš„å¤§è‡´æµç¨‹æ˜¯è¿™æ ·çš„ï¼Œæœ€å¼€å§‹çš„æ—¶å€™**å°†æ‰€æœ‰çš„å˜é‡åŠ ä¸Šæ ‡è®°**ï¼Œ**cycularReference å‡½æ•°çš„æ—¶å€™ä¼šå°†å‡½æ•°å†…éƒ¨çš„å˜é‡è¿™äº›æ ‡è®°æ¸…é™¤*ï¼Œ å‡½æ•°æ‰§è¡Œå®Œåå†åŠ ä¸Šæ ‡è®°**
2. `JSON.stringfy()`è½¬æ¢ä¼šæŠ¥é”™ï¼Œå› ä¸ºå…¶æ— æ³•å°†ä¸€ä¸ªæ— é™å¾ªç¯è½¬æ¢çš„



### JavaScriptåƒåœ¾å›æ”¶æœºåˆ¶

[ã€Œç¡¬æ ¸JSã€ä½ çœŸçš„äº†è§£åƒåœ¾å›æ”¶æœºåˆ¶å—](https://juejin.cn/post/6981588276356317214)

[JavaScriptåƒåœ¾å›æ”¶æœºåˆ¶](https://zhuanlan.zhihu.com/p/60336501)

1. æ ‡è®°æ¸…é™¤ï¼ˆmark and sweepï¼‰
2. å¼•ç”¨è®¡æ•°ï¼ˆreference countingï¼‰



>  è¿™ä¸ªè¿‡ç¨‹æ˜¯å‘¨æœŸæ€§çš„ï¼Œå³åƒåœ¾å›æ”¶ç¨‹åºæ¯éš”ä¸€å®šæ—¶é—´ï¼ˆæˆ–è€…è¯´åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­æŸä¸ªé¢„å®šçš„æ”¶é›†æ—¶é—´ï¼‰å°±ä¼šè‡ªåŠ¨è¿è¡Œã€‚åƒåœ¾å›æ”¶è¿‡ç¨‹æ˜¯ä¸€ä¸ªè¿‘ä¼¼ä¸”ä¸å®Œç¾çš„æ–¹æ¡ˆï¼Œå› ä¸ºæŸå—å†…å­˜æ˜¯å¦è¿˜æœ‰ç”¨ï¼Œå±äºâ€œä¸å¯åˆ¤å®šçš„â€é—®é¢˜ï¼Œæ„å‘³ç€é ç®—æ³•æ˜¯è§£å†³ä¸äº†çš„
>
> æˆ‘ä»¬ä»¥å‡½æ•°ä¸­å±€éƒ¨å˜é‡çš„æ­£å¸¸ç”Ÿå‘½å‘¨æœŸä¸ºä¾‹ã€‚å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ä¼šåœ¨å‡½æ•°æ‰§è¡Œæ—¶å­˜åœ¨ã€‚æ­¤æ—¶ï¼Œæ ˆï¼ˆæˆ–å †ï¼‰å†…å­˜ä¼šåˆ†é…ç©ºé—´ä»¥ä¿å­˜ç›¸åº”çš„å€¼ã€‚å‡½æ•°åœ¨å†…éƒ¨ä½¿ç”¨äº†å˜é‡ï¼Œç„¶åé€€å‡ºã€‚æ­¤æ—¶ï¼Œå°±ä¸å†éœ€è¦é‚£ä¸ªå±€éƒ¨å˜é‡äº†ï¼Œå®ƒå ç”¨çš„å†…å­˜å¯ä»¥é‡Šæ”¾ï¼Œä¾›åé¢ä½¿ç”¨ã€‚è¿™ç§æƒ…å†µä¸‹æ˜¾ç„¶ä¸å†éœ€è¦å±€éƒ¨å˜é‡äº†ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰æ—¶å€™éƒ½ä¼šè¿™ä¹ˆæ˜æ˜¾ã€‚åƒåœ¾å›æ”¶ç¨‹åºå¿…é¡»è·Ÿè¸ªè®°å½•å“ªä¸ªå˜é‡è¿˜ä¼šä½¿ç”¨ï¼Œä»¥åŠå“ªä¸ªå˜é‡ä¸ä¼šå†ä½¿ç”¨ï¼Œä»¥ä¾¿å›æ”¶å†…å­˜ã€‚å¦‚ä½•æ ‡è®°æœªä½¿ç”¨çš„å˜é‡ä¹Ÿè®¸æœ‰ä¸åŒçš„å®ç°æ–¹å¼ï¼Œç”¨åˆ°è¿‡ä¸¤ç§ä¸»è¦çš„æ ‡è®°ç­–ç•¥ï¼šæ ‡è®°æ¸…ç†å’Œå¼•ç”¨è®¡æ•°

**è§£é™¤å¯¹ä¸€ä¸ªå€¼çš„å¼•ç”¨å¹¶ä¸ä¼šè‡ªåŠ¨å¯¼è‡´ç›¸å…³å†…å­˜è¢«å›æ”¶ã€‚è§£é™¤å¼•ç”¨çš„å…³é”®åœ¨äºç¡®ä¿ç›¸å…³çš„å€¼å·²ç»ä¸åœ¨ä¸Šä¸‹æ–‡é‡Œäº†ï¼Œå› æ­¤å®ƒåœ¨ä¸‹æ¬¡åƒåœ¾å›æ”¶æ—¶ä¼šè¢«å›æ”¶ã€‚**

### ä»€ä¹ˆæƒ…å†µä¼šå¼•èµ·å†…å­˜æ³„æ¼

[JSä¸­4ç§å¸¸è§çš„å†…å­˜æ³„æ¼](https://blog.csdn.net/weixin_44786530/article/details/126617193)

[å†…å­˜ç®¡ç†](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management)

1. **æ„å¤–çš„å…¨å±€å˜é‡å¼•èµ·çš„å†…å­˜æ³„æ¼ã€‚**

```js
function foo(arg) {
    bar = "this is a hidden global variable";// å®é™…ä¸Šæ˜¯ï¼š window.bar = "this is an explicit global variable";
}

function bar() {
    this.variable = "potential accidental global";
} 
bar();// fooå‡½æ•°å†å…¨å±€ä½œç”¨åŸŸä¸­è¢«è°ƒç”¨ï¼Œå› æ­¤thisæŒ‡å‘window
```

è§£å†³æ–¹æ³•ï¼Œä½¿ç”¨ä¸¥æ ¼æ¨¡å¼é¿å…`"use strict"`

2. **é—­åŒ…å¼•èµ·çš„å†…å­˜æ³„æ¼**

é—­åŒ…å¯ä»¥ä½¿å˜é‡å¸¸é©»å†…å­˜ï¼Œä½†å¦‚æœä½¿ç”¨ä¸å½“å°±ä¼šåœ¨æˆå†…å­˜æ³„æ¼

```js
var theThing = null;
var replaceThing = function () {
  var originalThing = theThing;
  var unused = function () {
    if (originalThing)
      console.log("hi");
  };
  theThing = {
    longStr: new Array(1000000).join('*'),
    someMethod: function () {
      console.log("someMessage");
    }
  };
};
setInterval(replaceThing, 1000);
```

> æ¯æ¬¡è°ƒç”¨ `replaceThing` æ—¶ï¼Œ`theThing` éƒ½ä¼šå¾—åˆ°æ–°çš„åŒ…å«ä¸€ä¸ªå¤§æ•°ç»„å’Œæ–°çš„é—­åŒ…ï¼ˆ`someMethod`ï¼‰çš„å¯¹è±¡ã€‚
>
> åŒæ—¶ï¼Œæ²¡æœ‰ç”¨åˆ°çš„é‚£ä¸ªå˜é‡æŒæœ‰ä¸€ä¸ªå¼•ç”¨äº† `originalThing`ï¼ˆ`replaceThing` è°ƒç”¨ä¹‹å‰çš„ `theThing`ï¼‰é—­åŒ…ã€‚
>
> å…³é”®çš„é—®é¢˜æ˜¯æ¯å½“åœ¨åŒä¸€ä¸ªçˆ¶ä½œç”¨åŸŸä¸‹åˆ›å»ºé—­åŒ…ä½œç”¨åŸŸçš„æ—¶å€™ï¼Œè¿™ä¸ªä½œç”¨åŸŸæ˜¯è¢«å…±äº«çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`someMethod` çš„é—­åŒ…ä½œç”¨åŸŸå’Œ `unused` çš„ä½œç”¨åŸŸæ˜¯å…±äº«çš„ã€‚
>
> `unused` æŒæœ‰ä¸€ä¸ª `originalThing` çš„å¼•ç”¨ã€‚å°½ç®¡ `unused` ä»æ¥æ²¡æœ‰è¢«ä½¿ç”¨è¿‡ï¼Œ`someMethod` å¯ä»¥åœ¨ `theThing` ä¹‹å¤–è¢«è®¿é—®ã€‚
>
> è€Œä¸” `someMethod` å’Œ `unused` å…±äº«äº†é—­åŒ…ä½œç”¨åŸŸï¼Œå³ä¾¿ `unused` ä»æ¥éƒ½æ²¡æœ‰è¢«ä½¿ç”¨è¿‡ï¼Œå®ƒå¯¹ `originalThing` çš„å¼•ç”¨è¿˜æ˜¯å¼ºåˆ¶å®ƒä¿æŒæ´»è·ƒçŠ¶æ€ï¼ˆé˜»æ­¢å®ƒè¢«å›æ”¶ï¼‰ã€‚
>
> å½“è¿™æ®µä»£ç é‡å¤è¿è¡Œæ—¶ï¼Œå°†å¯ä»¥è§‚å¯Ÿåˆ°å†…å­˜æ¶ˆè€—ç¨³å®šåœ°ä¸Šæ¶¨ï¼Œå¹¶ä¸”ä¸ä¼šå› ä¸º GC çš„å­˜åœ¨è€Œä¸‹é™ã€‚
>
> æœ¬è´¨ä¸Šæ¥è®²ï¼Œåˆ›å»ºäº†ä¸€ä¸ªé—­åŒ…é“¾è¡¨ï¼ˆæ ¹èŠ‚ç‚¹æ˜¯ `theThing` å½¢å¼çš„å˜é‡ï¼‰ï¼Œè€Œä¸”æ¯ä¸ªé—­åŒ…ä½œç”¨åŸŸéƒ½æŒæœ‰ä¸€ä¸ªå¯¹å¤§æ•°ç»„çš„é—´æ¥å¼•ç”¨ï¼Œè¿™å¯¼è‡´äº†ä¸€ä¸ªå·¨å¤§çš„å†…å­˜æ³„éœ²ã€‚

3. **æ²¡æœ‰æ¸…ç†çš„DOMå…ƒç´ å¼•ç”¨**

åŸå› ï¼šè™½ç„¶åˆ«çš„åœ°æ–¹åˆ é™¤äº†ï¼Œä½†æ˜¯å¯¹è±¡ä¸­è¿˜å­˜åœ¨å¯¹domçš„å¼•ç”¨

è§£å†³ï¼šæ‰‹åŠ¨åˆ é™¤ã€‚

4. **è¢«é—å¿˜çš„å®šæ—¶å™¨æˆ–è€…å›è°ƒ**

æ‰‹åŠ¨åˆ é™¤å®šæ—¶å™¨

5. **å­å…ƒç´ å­˜åœ¨å¼•ç”¨å¼•èµ·çš„å†…å­˜æ³„æ¼**

åŸå› ï¼šdivä¸­çš„ul li å¾—åˆ°è¿™ä¸ªdivï¼Œä¼šé—´æ¥å¼•ç”¨æŸä¸ªå¾—åˆ°çš„liï¼Œé‚£ä¹ˆæ­¤æ—¶å› ä¸ºdivé—´æ¥å¼•ç”¨liï¼Œå³ä½¿liè¢«æ¸…ç©ºï¼Œä¹Ÿè¿˜æ˜¯åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¸”åªè¦liä¸è¢«åˆ é™¤ï¼Œä»–çš„çˆ¶å…ƒç´ éƒ½ä¸ä¼šè¢«åˆ é™¤ã€‚

### é™æ€åˆ†é…ä¸å¯¹è±¡æ± 

> ä¸ºäº†æå‡ JavaScript æ€§èƒ½ï¼Œæœ€åè¦è€ƒè™‘çš„ä¸€ç‚¹å¾€å¾€å°±æ˜¯å‹æ¦¨æµè§ˆå™¨äº†ã€‚æ­¤æ—¶ï¼Œä¸€ä¸ªå…³é”®é—®é¢˜å°±æ˜¯**å¦‚ä½•å‡å°‘æµè§ˆå™¨æ‰§è¡Œåƒåœ¾å›æ”¶çš„æ¬¡æ•°**ã€‚å¼€å‘è€…æ— æ³•ç›´æ¥æ§åˆ¶ä»€ä¹ˆæ—¶å€™å¼€å§‹æ”¶é›†åƒåœ¾ï¼Œä½†**å¯ä»¥é—´æ¥æ§åˆ¶è§¦å‘åƒåœ¾å›æ”¶çš„æ¡ä»¶**ã€‚ç†è®ºä¸Šï¼Œå¦‚æœèƒ½å¤Ÿåˆç†ä½¿ç”¨åˆ†é…çš„å†…å­˜ï¼ŒåŒæ—¶é¿å…å¤šä½™çš„åƒåœ¾å›æ”¶ï¼Œé‚£å°±å¯ä»¥ä¿ä½å› é‡Šæ”¾å†…å­˜è€ŒæŸå¤±çš„æ€§èƒ½ã€‚**æµè§ˆå™¨å†³å®šä½•æ—¶è¿è¡Œåƒåœ¾å›æ”¶ç¨‹åºçš„ä¸€ä¸ªæ ‡å‡†å°±æ˜¯å¯¹è±¡æ›´æ›¿çš„é€Ÿåº¦**

```js
function addVector(a, b) { 
 let resultant = new Vector(); 
 resultant.x = a.x + b.x; 
 resultant.y = a.y + b.y; 
 return resultant; 
}
```

ä¸Šé¢è¿™ä¸ªå‡½æ•°ï¼Œå¦‚æœé¢‘ç¹åˆ›å»ºçš„è¯ï¼Œå°±ä¼šä¸€ç›´åˆ›å»ºä¸€ä¸ªæ–°çš„Vectorï¼Œæ›´å¿«çš„è§¦å‘åƒåœ¾å›æ”¶ã€‚æ‰€ä»¥ï¼Œä¸è®©å®ƒä¸€ç›´åˆ›å»ºï¼Œå°±å¯ä»¥æå‡æ€§èƒ½

```js
function addVector(a, b, resultant) { 
 resultant.x = a.x + b.x; 
 resultant.y = a.y + b.y; 
 return resultant; 
}
```

å½“ç„¶ï¼Œè¿™éœ€è¦åœ¨å…¶ä»–åœ°æ–¹å®ä¾‹åŒ–çŸ¢é‡å‚æ•° resultantï¼Œä½†è¿™ä¸ªå‡½æ•°çš„è¡Œä¸ºæ²¡æœ‰å˜ã€‚é‚£ä¹ˆåœ¨å“ªé‡Œåˆ›å»ºçŸ¢é‡å¯ä»¥ä¸è®©åƒåœ¾å›æ”¶è°ƒåº¦ç¨‹åºç›¯ä¸Šå‘¢ï¼Ÿ

**ä¸€ä¸ªç­–ç•¥æ˜¯ä½¿ç”¨å¯¹è±¡æ± **ã€‚åœ¨åˆå§‹åŒ–çš„æŸä¸€æ—¶åˆ»ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ± ï¼Œç”¨æ¥ç®¡ç†ä¸€ç»„å¯å›æ”¶çš„å¯¹è±¡ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å‘è¿™ä¸ªå¯¹è±¡æ± è¯·æ±‚ä¸€ä¸ªå¯¹è±¡ã€è®¾ç½®å…¶å±æ€§ã€ä½¿ç”¨å®ƒï¼Œç„¶ååœ¨æ“ä½œå®Œæˆåå†æŠŠå®ƒè¿˜ç»™å¯¹è±¡æ± ã€‚ç”±äºæ²¡å‘ç”Ÿå¯¹è±¡åˆå§‹åŒ–ï¼Œåƒåœ¾å›æ”¶æ¢æµ‹å°±ä¸ä¼šå‘ç°æœ‰å¯¹è±¡æ›´æ›¿ï¼Œå› æ­¤åƒåœ¾å›æ”¶ç¨‹åºå°±ä¸ä¼šé‚£ä¹ˆé¢‘ç¹åœ°è¿è¡Œ

```js
// vectorPool æ˜¯å·²æœ‰çš„å¯¹è±¡æ±  
let v1 = vectorPool.allocate(); 
let v2 = vectorPool.allocate(); 
let v3 = vectorPool.allocate(); 
v1.x = 10; 
v1.y = 5; 
v2.x = -3; 
v2.y = -6; 
addVector(v1, v2, v3); 
console.log([v3.x, v3.y]); // [7, -1] 
// é‡Šæ”¾
vectorPool.free(v1); 
vectorPool.free(v2); 
vectorPool.free(v3); 
// å¦‚æœå¯¹è±¡æœ‰å±æ€§å¼•ç”¨äº†å…¶ä»–å¯¹è±¡
// åˆ™è¿™é‡Œä¹Ÿéœ€è¦æŠŠè¿™äº›å±æ€§è®¾ç½®ä¸º null 
v1 = null; 
v2 = null; 
v3 = null;
```

å¦‚æœå¯¹è±¡æ± åªæŒ‰éœ€åˆ†é…çŸ¢é‡**ï¼ˆåœ¨å¯¹è±¡ä¸å­˜åœ¨æ—¶åˆ›å»ºæ–°çš„ï¼Œåœ¨å¯¹è±¡å­˜åœ¨æ—¶åˆ™å¤ç”¨å­˜åœ¨çš„ï¼‰**ï¼Œé‚£ä¹ˆè¿™ä¸ªå®ç°æœ¬è´¨ä¸Šæ˜¯ä¸€ç§**è´ªå©ªç®—æ³•**ï¼Œæœ‰å•è°ƒå¢é•¿ä½†ä¸ºé™æ€çš„å†…å­˜ã€‚è¿™ä¸ªå¯¹è±¡æ± å¿…é¡»ä½¿ç”¨æŸç§ç»“æ„ç»´æŠ¤æ‰€æœ‰å¯¹è±¡ï¼Œæ•°ç»„æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©ã€‚ä¸è¿‡ï¼Œä½¿ç”¨æ•°ç»„æ¥å®ç°ï¼Œå¿…é¡»ç•™æ„ä¸è¦æ‹›è‡´é¢å¤–çš„åƒåœ¾å›æ”¶

```js
let vectorList = new Array(100); 
let vector = new Vector(); 
vectorList.push(vector);
```

ç”±äº JavaScript æ•°ç»„çš„å¤§å°æ˜¯åŠ¨æ€å¯å˜çš„ï¼Œå¼•æ“ä¼šåˆ é™¤å¤§å°ä¸º 100 çš„æ•°ç»„ï¼Œå†åˆ›å»ºä¸€ä¸ªæ–°çš„å¤§å°ä¸º200 çš„æ•°ç»„ã€‚åƒåœ¾å›æ”¶ç¨‹åºä¼šçœ‹åˆ°è¿™ä¸ªåˆ é™¤æ“ä½œï¼Œè¯´ä¸å®šå› æ­¤å¾ˆå¿«å°±ä¼šè·‘æ¥æ”¶ä¸€æ¬¡åƒåœ¾ã€‚è¦é¿å…è¿™ç§åŠ¨æ€åˆ†é…æ“ä½œï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–æ—¶å°±åˆ›å»ºä¸€ä¸ªå¤§å°å¤Ÿç”¨çš„æ•°ç»„ï¼Œä»è€Œé¿å…ä¸Šè¿°å…ˆåˆ é™¤å†åˆ›å»ºçš„æ“ä½œã€‚ä¸è¿‡ï¼Œ**å¿…é¡»äº‹å…ˆæƒ³å¥½è¿™ä¸ªæ•°ç»„æœ‰å¤šå¤§**

> é™æ€åˆ†é…æ˜¯ä¼˜åŒ–çš„ä¸€ç§æç«¯å½¢å¼ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºè¢«åƒåœ¾å›æ”¶ä¸¥é‡åœ°æ‹–äº†åè…¿ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæå‡æ€§èƒ½ã€‚ä½†è¿™ç§æƒ…å†µå¹¶ä¸å¤šè§ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™éƒ½å±äºè¿‡æ—©ä¼˜åŒ–ï¼Œå› æ­¤ä¸ç”¨è€ƒè™‘ã€‚



### å †æ ˆ

[JavaScript å†…å­˜æœºåˆ¶](https://blog.csdn.net/davidffffff/article/details/107716345)

**åŸºæœ¬ç±»å‹**çš„å€¼ï¼ˆUndefined/Null/Boolean/Number/Stringï¼‰è¢«ä¿å­˜åœ¨**æ ˆå†…å­˜**ä¸­ã€‚ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡**å¤åˆ¶åŸºæœ¬ç±»å‹çš„å€¼**ï¼Œ**ä¼šåˆ›å»ºè¿™ä¸ªå€¼çš„ä¸€ä¸ªå‰¯æœ¬**ã€‚

- **å¼•ç”¨ç±»å‹**çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¿å­˜åœ¨**å †å†…å­˜**ä¸­ã€‚
  - åŒ…å«å¼•ç”¨ç±»å‹å€¼çš„å˜é‡å®é™…ä¸ŠåŒ…å«çš„å¹¶ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ª**æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆ**ã€‚ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹çš„å€¼ï¼Œ**å¤åˆ¶çš„å…¶å®æ˜¯æŒ‡é’ˆï¼Œå› æ­¤ä¸¤ä¸ªå˜é‡æœ€ç»ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡**ã€‚
  - jsä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯**ä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´**ã€‚åœ¨æ“ä½œå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ“ä½œå¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å®é™…çš„å¯¹è±¡ã€‚



1ã€**å †æ ˆç©ºé—´**åˆ†é…åŒºåˆ«ï¼š

- æ ˆï¼ˆæ“ä½œç³»ç»Ÿï¼‰ï¼šç”±**æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ†é…é‡Šæ”¾** ï¼Œ**å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰**ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äº**æ•°æ®ç»“æ„ä¸­çš„æ ˆ**

- å †ï¼ˆæ“ä½œç³»ç»Ÿï¼‰ï¼š ä¸€èˆ¬ç”±**ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSå›æ”¶ï¼Œåˆ†é…æ–¹å¼å€’æ˜¯ç±»ä¼¼äºé“¾è¡¨**

2ã€å †æ ˆç¼“å­˜æ–¹å¼åŒºåˆ«ï¼š

- æ ˆä½¿ç”¨çš„æ˜¯**ä¸€çº§ç¼“å­˜**ï¼Œ ä»–ä»¬é€šå¸¸éƒ½æ˜¯è¢«è°ƒç”¨æ—¶å¤„äº**å­˜å‚¨ç©ºé—´ï¼ˆå†…å­˜ï¼‰**ä¸­ï¼Œ**è°ƒç”¨å®Œæ¯•ç«‹å³é‡Šæ”¾**

- å †æ˜¯å­˜æ”¾åœ¨**äºŒçº§ç¼“å­˜**ä¸­ï¼Œ**ç”Ÿå‘½å‘¨æœŸç”±è™šæ‹Ÿæœºçš„åƒåœ¾å›æ”¶ç®—æ³•æ¥å†³å®š**ï¼ˆå¹¶ä¸æ˜¯ä¸€æ—¦æˆä¸ºå­¤å„¿å¯¹è±¡å°±èƒ½è¢«å›æ”¶ï¼‰ã€‚æ‰€ä»¥è°ƒç”¨è¿™äº›å¯¹è±¡çš„é€Ÿåº¦è¦ç›¸å¯¹æ¥å¾—ä½ä¸€äº›ã€‚

3ã€å †æ ˆæ•°æ®ç»“æ„åŒºåˆ«ï¼š

- å †ï¼ˆæ•°æ®ç»“æ„ï¼‰ï¼šå †å¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€æ£µæ ‘ï¼Œå¦‚ï¼šå †æ’åºï¼›
- æ ˆï¼ˆæ•°æ®ç»“æ„ï¼‰ï¼šä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ã€‚



### æ‰§è¡Œä¸Šä¸‹æ–‡

**æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆä»¥ä¸‹ç®€ç§°â€œä¸Šä¸‹æ–‡â€ï¼‰**çš„æ¦‚å¿µåœ¨ JavaScript ä¸­æ˜¯é¢‡ä¸ºé‡è¦çš„ã€‚å˜é‡æˆ–å‡½æ•°çš„ä¸Šä¸‹æ–‡**å†³å®šäº†å®ƒä»¬å¯ä»¥è®¿é—®å“ªäº›æ•°æ®**ï¼Œä»¥åŠå®ƒä»¬çš„è¡Œä¸ºã€‚**æ¯ä¸ªä¸Šä¸‹æ–‡éƒ½æœ‰ä¸€ä¸ªå…³è”çš„å˜é‡å¯¹è±¡**ï¼ˆvariable objectï¼‰ï¼Œè€Œè¿™ä¸ªä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½å­˜åœ¨äºè¿™ä¸ªå¯¹è±¡ä¸Š

å…¨å±€ä¸Šä¸‹æ–‡æ˜¯æœ€å¤–å±‚(window)çš„ä¸Šä¸‹æ–‡ï¼Œæ‰€æœ‰**varå®šä¹‰çš„å…¨å±€å˜é‡å’Œå‡½æ•°**ï¼Œéƒ½ä¼šæŒ‚è½½åˆ°windowä¸Šï¼Œæˆä¸ºå®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚

ä½¿ç”¨ let å’Œ const çš„é¡¶çº§å£°æ˜èƒ½å¼•ç”¨ï¼Œä½†ä¸ä¼šæŒ‚è½½windowä¸Šï¼Œå…¶åœ¨**ä½œç”¨åŸŸé“¾è§£æ**çš„æ•ˆæœæ˜¯ä¸€æ ·çš„

ä¸Šä¸‹æ–‡åœ¨**å…¶æ‰€æœ‰ä»£ç éƒ½æ‰§è¡Œå®Œæ¯•åä¼šè¢«é”€æ¯**ï¼ŒåŒ…æ‹¬å®šä¹‰åœ¨å®ƒä¸Šé¢çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°ï¼ˆ**å…¨å±€ä¸Šä¸‹æ–‡åœ¨åº”ç”¨ç¨‹åºé€€å‡ºå‰æ‰ä¼šè¢«é”€æ¯**ï¼Œæ¯”å¦‚å…³é—­ç½‘é¡µæˆ–é€€å‡ºæµè§ˆå™¨ï¼‰ã€‚

**æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½æœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡**ã€‚å½“**ä»£ç æ‰§è¡Œæµè¿›å…¥å‡½æ•°æ—¶ï¼Œå‡½æ•°çš„ä¸Šä¸‹æ–‡è¢«æ¨åˆ°ä¸€ä¸ªä¸Šä¸‹æ–‡æ ˆä¸Š**ã€‚åœ¨**å‡½æ•°æ‰§è¡Œå®Œä¹‹åï¼Œä¸Šä¸‹æ–‡æ ˆä¼šå¼¹å‡ºè¯¥å‡½æ•°ä¸Šä¸‹æ–‡ï¼Œå°†æ§åˆ¶æƒè¿”è¿˜ç»™ä¹‹å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡**

ä¸Šä¸‹æ–‡ä¸­çš„ä»£ç åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ª**ä½œç”¨åŸŸé“¾ï¼ˆscope chainï¼‰**ã€‚è¿™ä¸ªä½œç”¨åŸŸé“¾å†³å®šäº†å„çº§ä¸Šä¸‹æ–‡ä¸­çš„ä»£ç åœ¨è®¿é—®å˜é‡å’Œå‡½æ•°æ—¶çš„é¡ºåºã€‚**ä»£ç æ­£åœ¨æ‰§è¡Œçš„ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡å§‹ç»ˆä½äºä½œç”¨åŸŸé“¾çš„æœ€å‰ç«¯**ã€‚è‹¥ä¸Šä¸‹æ–‡æ˜¯å‡½æ•°ï¼Œåˆ™å…¶æ´»åŠ¨å¯¹è±¡ï¼ˆactivation objectï¼‰(arguments)ç”¨ä½œå˜é‡å¯¹è±¡

ä»£ç æ‰§è¡Œæ—¶çš„**æ ‡è¯†ç¬¦è§£ææ˜¯é€šè¿‡æ²¿ä½œç”¨åŸŸé“¾é€çº§æœç´¢æ ‡è¯†ç¬¦åç§°**å®Œæˆçš„ã€‚æœç´¢è¿‡ç¨‹å§‹ç»ˆ**ä»ä½œç”¨åŸŸé“¾çš„æœ€å‰ç«¯å¼€å§‹**ï¼Œç„¶åé€çº§å¾€åï¼Œç›´åˆ°æ‰¾åˆ°æ ‡è¯†ç¬¦ã€‚ï¼ˆå¦‚æœæ²¡æœ‰æ‰¾åˆ°æ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆé€šå¸¸ä¼šæŠ¥é”™ã€‚ï¼‰

**å±€éƒ¨ä½œç”¨åŸŸä¸­å®šä¹‰çš„å˜é‡å¯ç”¨äºåœ¨å±€éƒ¨ä¸Šä¸‹æ–‡ä¸­æ›¿æ¢å…¨å±€å˜é‡**ï¼ˆå› ä¸ºæ˜¯ä»ä½œç”¨åŸŸé“¾ä»å‰å¾€åæ‰¾ï¼Œæ‰€ä»¥ï¼Œå±€éƒ¨è‚¯å®šæ¯”å…¨å±€å…ˆè¢«æ‰¾åˆ°ï¼‰



#### ä½œç”¨åŸŸé“¾å¢å¼º

è™½ç„¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸»è¦æœ‰å…¨å±€ä¸Šä¸‹æ–‡å’Œå‡½æ•°ä¸Šä¸‹æ–‡ä¸¤ç§ï¼ˆ**eval()è°ƒç”¨å†…éƒ¨å­˜åœ¨ç¬¬ä¸‰ç§ä¸Šä¸‹æ–‡**ï¼‰ï¼Œä½†æœ‰å…¶ä»–æ–¹å¼æ¥å¢å¼ºä½œç”¨åŸŸé“¾

æŸäº›è¯­å¥ä¼šå¯¼è‡´åœ¨ä½œç”¨åŸŸé“¾å‰ç«¯ä¸´æ—¶æ·»åŠ ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡åœ¨ä»£ç æ‰§è¡Œåä¼šè¢«åˆ é™¤

- try/catch è¯­å¥çš„ catch å—

- with è¯­å¥

```js
function buildUrl() { 
 let qs = "?debug=true"; 
 with(location){ 
 let url = href + qs; 
 } 
 return url; 
}
```

è¿™é‡Œï¼Œwith è¯­å¥å°† location å¯¹è±¡ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œå› æ­¤ location ä¼šè¢«æ·»åŠ åˆ°ä½œç”¨åŸŸé“¾å‰ç«¯ã€‚ with è¯­å¥ä¸­çš„ä»£ç å¼•ç”¨å˜é‡ href æ—¶ï¼Œå®é™…ä¸Šå¼•ç”¨çš„æ˜¯location.hrefã€‚æ‰¾qsæ—¶ï¼Œlocationå†…æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œæ‰ä¼šå»æ‰¾å‡½æ•°çš„qs



#### ä¾‹å­

å‡è®¾æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªäºŒå±‚é—­åŒ…

```js
let a = 33
var b = 222
var fuc = function three() {
    let gg = 23;
    try {
        console.log(a)
        return function two() {
            var tow_gg = 999
            console.log('two', )
            eval(`console.log('two', tow_gg)`)
            return function one() {
                console.log('one', this)// æŒ‡å‘window
                 return {tow_gg, gg}
            }
        }
    } catch(e) {}
}
console.dir(fuc()())
```

![image-20230527120111449](C:\Users\31579\AppData\Roaming\Typora\typora-user-images\image-20230527120111449.png)

> Aï¼šä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚æˆ‘å¯ä»¥å¸®ä½ å›ç­”è¿™ä¸ªé—®é¢˜ã€‚ğŸ˜Š
>
> jsæ€ä¹ˆæŸ¥çœ‹å½“å‰ä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªé—®é¢˜æœ‰å¤šç§ç­”æ¡ˆï¼Œå–å†³äºä½ æƒ³è¦æŸ¥çœ‹çš„æ˜¯ä»€ä¹ˆç±»å‹çš„ä¸Šä¸‹æ–‡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸Šä¸‹æ–‡ï¼ˆContextï¼‰æ˜¯ç¨‹åºè¿è¡Œçš„ç¯å¢ƒï¼Œåœ¨ä¸Šä¸‹æ–‡ä¸­å­˜å‚¨äº†ä¸€æ®µç¨‹åºè¿è¡Œæ—¶æ‰€éœ€è¦çš„å…¨éƒ¨æ•°æ®Â¹ã€‚
>
> å¦‚æœä½ æƒ³è¦æŸ¥çœ‹çš„æ˜¯**æ‰§è¡Œä¸Šä¸‹æ–‡**ï¼Œä¹Ÿå°±æ˜¯åœ¨æ‰§è¡Œä¸€æ®µä»£ç æ—¶åˆ›å»ºçš„å¯¹è±¡ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨**è°ƒè¯•å·¥å…·**æ¥æŸ¥çœ‹å½“å‰æ‰§è¡Œçš„jsä»£ç çš„ä½ç½®å’Œå˜é‡çš„å€¼â´ã€‚ä¾‹å¦‚ï¼Œåœ¨Chromeæµè§ˆå™¨ä¸­ï¼Œä½ å¯ä»¥æŒ‰F12é”®æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç„¶ååœ¨Sourcesé¢æ¿ä¸­æ‰¾åˆ°ä½ æƒ³è¦è°ƒè¯•çš„jsæ–‡ä»¶ï¼Œç„¶ååœ¨ä»£ç ä¸­è®¾ç½®æ–­ç‚¹ï¼Œç„¶åè¿è¡Œä»£ç ï¼Œå½“ä»£ç æ‰§è¡Œåˆ°æ–­ç‚¹å¤„æ—¶ï¼Œä½ å°±å¯ä»¥åœ¨å³ä¾§çš„Scopeé¢æ¿ä¸­æŸ¥çœ‹å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„è¯æ³•ç¯å¢ƒå¯¹è±¡å’Œå˜é‡ç¯å¢ƒå¯¹è±¡Â¹ã€‚
>
> å¦‚æœä½ æƒ³è¦æŸ¥çœ‹çš„æ˜¯**å…¨å±€ä¸Šä¸‹æ–‡**ï¼Œä¹Ÿå°±æ˜¯åœ¨å¼€å§‹æ‰§è¡Œä¸€æ®µjavascriptä»£ç æ—¶æ‰€åˆ›å»ºçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œåœ¨htmlç¯å¢ƒä¸­ï¼Œè¯¥ä¸Šä¸‹æ–‡å¯¹è±¡å°±æ˜¯windowå¯¹è±¡Â¹ã€‚åœ¨nodeç¯å¢ƒä¸­ä¸ºglobalå¯¹è±¡Â¹ã€‚é‚£ä¹ˆä½ å¯ä»¥ç›´æ¥ä½¿ç”¨windowæˆ–globalæ¥è®¿é—®å…¨å±€ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚
>
> å¦‚æœä½ æƒ³è¦æŸ¥çœ‹çš„æ˜¯**å‡½æ•°ä¸Šä¸‹æ–‡**ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å¼€å§‹æ‰§è¡Œæ—¶æ‰€åˆ›å»ºçš„ä¸Šä¸‹æ–‡å¯¹è±¡Â¹ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨**arguments.callee**æ¥è·å–å½“å‰å‡½æ•°å¯¹è±¡Â²ï¼Œç„¶åä½¿ç”¨**arguments.callee.caller**æ¥è·å–è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°å¯¹è±¡Â²ã€‚ä¾‹å¦‚ï¼š
>
> ```javascript
> function f1() {
>   console.log(arguments.callee); //æ‰“å°f1å‡½æ•°å¯¹è±¡
>   console.log(arguments.callee.caller); //æ‰“å°f2å‡½æ•°å¯¹è±¡
> }
> 
> function f2() {
>   f1();
> }
> 
> f2();
> ```
>
> å¦‚æœä½ æƒ³è¦æŸ¥çœ‹çš„æ˜¯**thisæŒ‡å‘**ï¼Œä¹Ÿå°±æ˜¯åœ¨æ‰§è¡Œä¸€æ®µä»£ç æ—¶thiså…³é”®å­—æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç›´æ¥ä½¿ç”¨thisæ¥è·å–å½“å‰thisæŒ‡å‘Â³ã€‚ä¸è¿‡è¦æ³¨æ„ï¼ŒthisæŒ‡å‘å¹¶ä¸æ˜¯å›ºå®šä¸å˜çš„ï¼Œå®ƒä¼šæ ¹æ®å‡½æ•°è°ƒç”¨æ–¹å¼çš„ä¸åŒè€Œæœ‰æ‰€å˜åŒ–Â³ã€‚ä¾‹å¦‚ï¼š
>
> ```javascript
> var name = "global";
> 
> function f1() {
>   console.log(this.name); //æ‰“å°global
> }
> 
> var obj = {
>   name: "obj",
>   f2: function() {
>     console.log(this.name); //æ‰“å°obj
>     f1(); //æ‰“å°global
>     f1.call(this); //æ‰“å°obj
>   }
> };
> 
> f1(); //æ‰“å°global
> obj.f2(); //æ‰“å°obj global obj
> ```
>
> ä»¥ä¸Šå°±æ˜¯æˆ‘èƒ½æ‰¾åˆ°çš„å…³äºjsæ€ä¹ˆæŸ¥çœ‹å½“å‰ä¸Šä¸‹æ–‡çš„ä¸€äº›ç­”æ¡ˆï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/27
> (1) ç†è§£ JavaScript çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¿™ç¯‡å°±å¤Ÿäº†ï¼ - æ˜é‡‘. https://juejin.cn/post/6954966248233009182.
> (2) å¦‚ä½•çŸ¥é“æµè§ˆå™¨å½“å‰æ‰§è¡Œçš„JSä»£ç çš„ä½ç½®ï¼Ÿ - çŸ¥ä¹. https://www.zhihu.com/question/21073282.
> (3) JavaScriptä¸­çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ - æ˜é‡‘. https://juejin.cn/post/7008866769301405726.
> (4) jsä¸­è·å–ä¸Šä¸‹æ–‡è·¯å¾„_xb12369çš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/xb12369/article/details/46416845.



> [javascriptâ€”â€”æ‰§è¡Œç¯å¢ƒå’Œä½œç”¨åŸŸ](https://blog.csdn.net/viewyu12345/article/details/79653587)
>
> [ scopesç»“åˆå®é™…åˆ†æ ](https://blog.csdn.net/viewyu12345/article/details/108703891)



### TODOä»€ä¹ˆæ˜¯é—­åŒ…





### es6æˆ–æ›´é«˜çš„jsæ•°æ®ç»“æ„ï¼Œå¦‚WeakMapï¼Œæ€ä¹ˆè½¬æ¢æˆæ—§æ—¶ä»£æµè§ˆå™¨å¯ä»¥è¿è¡Œçš„æ–¹å¼ï¼ŒåŸç†æ˜¯ä»€ä¹ˆ

> ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚æˆ‘å¯ä»¥å¸®ä½ å›ç­”è¿™ä¸ªé—®é¢˜ã€‚ğŸ˜Š
>
> es6æˆ–æ›´é«˜çš„jsæ•°æ®ç»“æ„ï¼Œå¦‚WeakMapï¼Œæ€ä¹ˆè½¬æ¢æˆæ—§æ—¶ä»£æµè§ˆå™¨å¯ä»¥è¿è¡Œçš„æ–¹å¼ï¼ŒåŸç†æ˜¯ä»€ä¹ˆï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ä½¿ç”¨**polyfill**ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§ç”¨æ¥æ¨¡æ‹ŸåŸç”ŸåŠŸèƒ½çš„ä»£ç Â¹ã€‚
>
> polyfillçš„åŸç†æ˜¯æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸä¸ªç‰¹æ€§ï¼Œå¦‚æœä¸æ”¯æŒï¼Œå°±ç”¨jsä»£ç æ¥å®ç°è¯¥ç‰¹æ€§çš„åŠŸèƒ½Â¹ã€‚ä¾‹å¦‚ï¼ŒWeakMapæ˜¯ä¸€ç§ç”¨æ¥å­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œè€Œä¸”ä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶Â²ã€‚å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒWeakMapï¼Œå°±å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨é”®å€¼å¯¹ï¼Œç„¶åç”¨ä¸€ä¸ªéšè—å±æ€§æ¥æ ‡è®°é”®å¯¹è±¡ï¼Œä»¥ä¾¿åœ¨åƒåœ¾å›æ”¶æ—¶åˆ é™¤å¯¹åº”çš„é”®å€¼å¯¹Â³ã€‚
>
> æœ‰ä¸€äº›å¼€æºçš„åº“æä¾›äº†es6æˆ–æ›´é«˜çš„jsæ•°æ®ç»“æ„çš„polyfillï¼Œä¾‹å¦‚weakmap-polyfillÂ¹ å’Œes6-structsã€‚ä½ å¯ä»¥ä½¿ç”¨npmå®‰è£…è¿™äº›åº“ï¼Œç„¶ååœ¨ä½ çš„ä»£ç ä¸­å¼•å…¥å®ƒä»¬ï¼Œå°±å¯ä»¥åœ¨æ—§æ—¶ä»£æµè§ˆå™¨ä¸­ä½¿ç”¨WeakMapç­‰æ•°æ®ç»“æ„äº†Â¹ ã€‚
>
> ä»¥ä¸Šå°±æ˜¯æˆ‘èƒ½æ‰¾åˆ°çš„å…³äºes6æˆ–æ›´é«˜çš„jsæ•°æ®ç»“æ„ï¼Œå¦‚WeakMapï¼Œæ€ä¹ˆè½¬æ¢æˆæ—§æ—¶ä»£æµè§ˆå™¨å¯ä»¥è¿è¡Œçš„æ–¹å¼ï¼ŒåŸç†æ˜¯ä»€ä¹ˆçš„ä¸€äº›ç­”æ¡ˆï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/27
> (1) polygonplanet/weakmap-polyfill: ECMAScript6 WeakMap polyfill - GitHub. https://github.com/polygonplanet/weakmap-polyfill.
> (2) weakmap-polyfill - npm. https://www.npmjs.com/package/weakmap-polyfill.
> (3) dregre/es6-structs: Polyfills for WeakMap, Map, WeakSet, and Set. - GitHub. https://github.com/dregre/es6-structs.



### WeakMapçš„ä½¿ç”¨æ–¹å¼

WeakMapä¸­ï¼Œåªè¦å€¼çš„å¼•ç”¨ä¸å­˜åœ¨ï¼Œå°±ä¼šè‡ªåŠ¨é”€æ¯ï¼›å¹¶ä¸”å› ä¸ºå…¶è¿™ä¸ªç‰¹æ€§ï¼Œå®ƒæ˜¯ä¸å¯è¿­ä»£çš„ï¼Œåªèƒ½é€šè¿‡åŸå§‹å¼•ç”¨å–å¾—é”®å€¼

```js
const wm = new WeakMap(); 
wm.set({}, "val");
```

set()æ–¹æ³•åˆå§‹åŒ–äº†ä¸€ä¸ªæ–°å¯¹è±¡å¹¶å°†å®ƒç”¨ä½œä¸€ä¸ªå­—ç¬¦ä¸²çš„é”®ã€‚å› ä¸º**æ²¡æœ‰æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„å…¶ä»–å¼•ç”¨**ï¼Œ æ‰€ä»¥å½“è¿™è¡Œä»£ç æ‰§è¡Œå®Œæˆåï¼Œ**è¿™ä¸ªå¯¹è±¡é”®å°±ä¼šè¢«å½“ä½œåƒåœ¾å›æ”¶**ã€‚

#### 1. ç§æœ‰å˜é‡

å¼±æ˜ å°„é€ å°±äº†åœ¨ JavaScript ä¸­å®ç°çœŸæ­£**ç§æœ‰å˜é‡**çš„ä¸€ç§æ–°æ–¹å¼ã€‚å‰ææ˜¯ï¼Œ**ç§æœ‰å˜é‡ä¼šå­˜å‚¨åœ¨å¼±æ˜ å°„ä¸­ï¼Œä»¥å¯¹è±¡å®ä¾‹ä¸ºé”®ï¼Œä»¥ç§æœ‰æˆå‘˜çš„å­—å…¸ä¸ºå€¼**

```js
const wm = new WeakMap(); 
class User { 
 constructor(id) { 
     this.idProperty = Symbol('id'); 
     this.setId(id); 
 } 
 setPrivate(property, value) { 
     const privateMembers = wm.get(this) || {}; 
     privateMembers[property] = value; 
     // å½“å‰å¼•ç”¨ä½œä¸ºé”®ï¼Œæˆå‘˜å¯¹è±¡ä½œä¸ºå€¼
     wm.set(this, privateMembers); 
 } 
 getPrivate(property) { 
	 return wm.get(this)[property]; 
 } 
 setId(id) { 
     // è®¾ç½®ç§æœ‰, propertyå€¼éƒ½æ˜¯å›ºå®šçš„
	 this.setPrivate(this.idProperty, id); 
 } 
 getId() { 
	 return this.getPrivate(this.idProperty); 
 } 
} 
const user = new User(123); 
alert(user.getId()); // 123 
user.setId(456); 
alert(user.getId()); // 456 
// å¹¶ä¸æ˜¯çœŸæ­£ç§æœ‰çš„
alert(wm.get(user)[user.idProperty]); // 456
```

å¯¹äºä¸Šé¢çš„å®ç°ï¼Œå¤–éƒ¨ä»£ç åªéœ€è¦æ‹¿åˆ°**å¯¹è±¡å®ä¾‹çš„å¼•ç”¨å’Œå¼±æ˜ å°„**ï¼Œå°±å¯ä»¥å–å¾—â€œç§æœ‰â€å˜é‡äº†, ä¸ºäº†é¿å…è¿™ç§è®¿é—®ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªé—­åŒ…æŠŠ WeakMap åŒ…è£…èµ·æ¥ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠå¼±æ˜ å°„ä¸å¤–ç•Œå®Œå…¨éš”ç¦»å¼€äº†

```js
// ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œé—­åŒ…ï¼Œwmä¸€ç›´è¢«è¿”å›çš„Userçš„classæŒæœ‰ï¼Œå°±ä¸ä¼šè§¦å‘åƒåœ¾å›æ”¶
const User = (() => { 
     const wm = new WeakMap(); 
     class User { 
         constructor(id) { 
       	  	this.idProperty = Symbol('id');
        	this.setId(id); 
         } 
     	setPrivate(property, value) { 
             const privateMembers = wm.get(this) || {}; 
             privateMembers[property] = value; 
             wm.set(this, privateMembers); 
     	} 
         getPrivate(property) { 
       	 	 return wm.get(this)[property]; 
         } 
         setId(id) { 
        	 this.setPrivate(this.idProperty, id); 
         } 
         getId(id) { 
        	 return this.getPrivate(this.idProperty); 
         } 
     } 
     return User; 
})();
const user = new User(123); 
alert(user.getId()); // 123 
user.setId(456); 
alert(user.getId()); // 456
```

è¿™æ ·ï¼Œæ‹¿ä¸åˆ°å¼±æ˜ å°„ä¸­çš„å¥ï¼Œä¹Ÿå°±æ— æ³•å–å¾—å¼±æ˜ å°„ä¸­å¯¹åº”çš„å€¼ã€‚è™½ç„¶è¿™é˜²æ­¢äº†å‰é¢æåˆ°çš„è®¿é—®ï¼Œä½†æ•´ä¸ªä»£ç ä¹Ÿå®Œå…¨é™·å…¥äº† ES6 ä¹‹å‰çš„é—­åŒ…ç§æœ‰å˜é‡æ¨¡å¼ã€‚

```js
const User = (function () {
  const wm = new WeakMap()
  function User() {
    const idProperty = Symbol('id')
    return {
      set(id) {
        const privateMember = wm.get(this) || {}
        privateMember[idProperty] = id
        wm.set(this, privateMember)
      },
      get(id) {
        return wm.get(this)[idProperty]
      },
    }
  }
  return User
})()
```

#### 2. DOM èŠ‚ç‚¹å…ƒæ•°æ®

å› ä¸º WeakMap å®ä¾‹ä¸ä¼šå¦¨ç¢åƒåœ¾å›æ”¶ï¼Œæ‰€ä»¥éå¸¸é€‚åˆä¿å­˜å…³è”å…ƒæ•°æ®ã€‚æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå…¶ä¸­ä½¿ç”¨äº†å¸¸è§„çš„ Map

```js
const m = new Map(); 
const loginButton = document.querySelector('#login'); 
// ç»™è¿™ä¸ªèŠ‚ç‚¹å…³è”ä¸€äº›å…ƒæ•°æ®
m.set(loginButton, {disabled: true});
```

å‡è®¾åœ¨ä¸Šé¢çš„ä»£ç æ‰§è¡Œåï¼Œé¡µé¢è¢« JavaScript æ”¹å˜äº†ï¼ŒåŸæ¥çš„ç™»å½•æŒ‰é’®ä» DOM æ ‘ä¸­è¢«åˆ æ‰äº†ã€‚ä½†ç”±äºæ˜ å°„ä¸­è¿˜ä¿å­˜ç€æŒ‰é’®çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¯¹åº”çš„ DOM èŠ‚ç‚¹ä»ç„¶ä¼šé€—ç•™åœ¨å†…å­˜ä¸­ï¼Œé™¤éæ˜ç¡®å°†å…¶ä»æ˜ å°„ä¸­åˆ é™¤æˆ–è€…ç­‰åˆ°æ˜ å°„æœ¬èº«è¢«é”€æ¯

å¦‚æœè¿™é‡Œä½¿ç”¨çš„æ˜¯å¼±æ˜ å°„ï¼Œå¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤ºï¼Œé‚£ä¹ˆå½“èŠ‚ç‚¹ä» DOM æ ‘ä¸­è¢«åˆ é™¤åï¼Œåƒåœ¾å›æ”¶ç¨‹åºå°±å¯ä»¥ç«‹å³é‡Šæ”¾å…¶å†…å­˜ï¼ˆå‡è®¾æ²¡æœ‰å…¶ä»–åœ°æ–¹å¼•ç”¨è¿™ä¸ªå¯¹è±¡ï¼‰ï¼š

```js
const wm = new WeakMap(); 
const loginButton = document.querySelector('#login'); 
// ç»™è¿™ä¸ªèŠ‚ç‚¹å…³è”ä¸€äº›å…ƒæ•°æ®
wm.set(loginButton, {disabled: true});
```

### è¿­ä»£å™¨

å¦‚æœè¿­ä»£å™¨æ²¡æœ‰å…³é—­ï¼Œåˆ™è¿˜å¯ä»¥ç»§ç»­ä»ä¸Šæ¬¡ç¦»å¼€çš„åœ°æ–¹ç»§ç»­è¿­ä»£ã€‚æ¯”å¦‚ï¼Œæ•°ç»„çš„è¿­ä»£å™¨å°±æ˜¯ä¸èƒ½å…³é—­çš„

```js
let a = [1, 2, 3, 4, 5];
let iter = a[Symbol.iterator](); 
for (let i of iter) { 
 console.log(i); 
 if (i > 2) { 
 break 
 } 
} 
// 1 
// 2 
// 3 
for (let i of iter) { 
 console.log(i); 
} 
// 4 
// 5
```

å› ä¸º return()æ–¹æ³•æ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥å¹¶éæ‰€æœ‰è¿­ä»£å™¨éƒ½æ˜¯å¯å…³é—­çš„ã€‚è¦çŸ¥é“æŸä¸ªè¿­ä»£å™¨æ˜¯å¦å¯å…³é—­ï¼Œå¯ä»¥æµ‹è¯•è¿™ä¸ªè¿­ä»£å™¨å®ä¾‹çš„ return å±æ€§æ˜¯ä¸æ˜¯å‡½æ•°å¯¹è±¡ã€‚ä¸è¿‡ï¼Œä»…ä»…ç»™ä¸€ä¸ªä¸å¯å…³é—­çš„è¿­ä»£å™¨å¢åŠ è¿™ä¸ªæ–¹æ³•å¹¶ä¸èƒ½è®©å®ƒå˜æˆå¯å…³é—­çš„ã€‚è¿™æ˜¯å› ä¸ºè°ƒç”¨ return()ä¸ä¼šå¼ºåˆ¶è¿­ä»£å™¨è¿›å…¥å…³é—­çŠ¶æ€ã€‚å³ä¾¿å¦‚æ­¤ï¼Œreturn()æ–¹æ³•è¿˜æ˜¯ä¼šè¢«è°ƒç”¨ã€‚

é‚£å¦‚ä½•å…³é—­ï¼Ÿç­”æ¡ˆæ˜¯ä¸å»ç®¡å®ƒï¼Œæˆ–è€…ç”Ÿæˆæ–°çš„è¿­ä»£å¯¹è±¡ï¼Œæˆ–è€…ç›´æ¥è¿­ä»£å®ƒçš„æœ¬ä½“ï¼Œä¸ç”¨è¿­ä»£å™¨

[JavaScriptè¿­ä»£å™¨å¦‚ä½•å…³é—­?](https://www.zhihu.com/question/462012759)



### [ä»ä¸¤ä¸ªè§’åº¦ç†è§£ä¸ºä»€ä¹ˆ JS ä¸­æ²¡æœ‰å‡½æ•°é‡è½½ ](https://www.cnblogs.com/zhangguicheng/p/12155512.html)

1. æ–¹æ³•ç­¾å

æ–¹æ³•ç­¾åæŒ‡çš„æ˜¯**å‡½æ•°çš„åç§°åŠ å½¢å‚åˆ—è¡¨**ï¼Œå¹¶ä¸”é€šè¿‡å‡½æ•°çš„åç§°æˆ–è€…å½¢å‚åˆ—è¡¨éƒ½å¯ä»¥åŒºåˆ†å‡ºæ˜¯ä¸åŒçš„å‡½æ•°ã€‚è€Œjsæ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œå‚æ•°ä¸å›ºå®šï¼Œä¹Ÿæ²¡æœ‰ç±»å‹ï¼Œæ‰€ä»¥æ²¡æœ‰é‡è½½

2. å‡½æ•°æŒ‡é’ˆ

å®šä¹‰äº†ä¸¤ä¸ªåŒåå‡½æ•°ï¼Œåˆ™åå®šä¹‰çš„ä¼šè¦†ç›–å…ˆå®šä¹‰çš„

## HTTP

### webSocket åè®®æ˜¯ä»€ä¹ˆï¼Œèƒ½ç®€è¿°ä¸€ä¸‹å—

> WebSocketåè®®æ˜¯ä¸€ç§åŸºäºTCP/IPçš„åŒå‘é€šä¿¡åè®®ï¼Œå®ƒå¯ä»¥è®©æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å®ç°å®æ—¶ã€ä½å»¶è¿Ÿã€é«˜æ•ˆçš„æ•°æ®äº¤æ¢Â¹Â²ã€‚WebSocketåè®®çš„ç‰¹ç‚¹æœ‰ï¼š
>
> - å®ƒæ˜¯ç‹¬ç«‹äºHTTPåè®®çš„ï¼Œä½†æ˜¯å¤ç”¨äº†HTTPçš„æ¡æ‰‹é€šé“ï¼Œé€šè¿‡HTTPè¯·æ±‚ä¸æœåŠ¡å™¨åå•†å‡çº§åè®®Â²Â³ã€‚
> - å®ƒæ˜¯åŒå‘çš„ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯ä»¥ä¸»åŠ¨å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œè€Œä¸éœ€è¦åƒHTTPé‚£æ ·é€šè¿‡è½®è¯¢æˆ–é•¿è½®è¯¢ç­‰æ–¹å¼Â¹Â²ã€‚
> - å®ƒæ˜¯æœ‰çŠ¶æ€çš„ï¼Œä¸€æ—¦å»ºç«‹è¿æ¥ï¼Œå°±ä¼šä¿æŒè¿æ¥ï¼Œç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ä¸»åŠ¨å…³é—­Â¹Â²ã€‚
> - å®ƒæ”¯æŒæ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ•°æ®çš„ä¼ è¾“ï¼Œæ•°æ®å¸§æ ¼å¼ç®€å•ï¼Œæ§åˆ¶å¼€é”€å°Â²â´ã€‚
> - å®ƒæ”¯æŒæ‰©å±•ï¼Œå¯ä»¥è‡ªå®šä¹‰å­åè®®æˆ–è€…æ·»åŠ é¢å¤–çš„åŠŸèƒ½Â²ã€‚
>
> WebSocketåè®®çš„å·¥ä½œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š
>
> - å®¢æˆ·ç«¯é€šè¿‡HTTPè¯·æ±‚å‘æœåŠ¡å™¨å‘èµ·åè®®å‡çº§ï¼Œæºå¸¦ä¸€äº›å¿…è¦çš„å¤´éƒ¨ä¿¡æ¯ï¼Œå¦‚Upgradeã€Connectionã€Sec-WebSocket-Keyç­‰Â²Â³â´ã€‚
> - æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå¦‚æœåŒæ„å‡çº§åè®®ï¼Œå°±è¿”å›ä¸€ä¸ª101çŠ¶æ€ç çš„å“åº”ï¼ŒåŒæ—¶ä¹Ÿæºå¸¦ä¸€äº›å¿…è¦çš„å¤´éƒ¨ä¿¡æ¯ï¼Œå¦‚Upgradeã€Connectionã€Sec-WebSocket-Acceptç­‰Â²Â³â´ã€‚
> - å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®Œæˆæ¡æ‰‹åï¼Œå°±å»ºç«‹äº†ä¸€ä¸ªWebSocketè¿æ¥ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡è¯¥è¿æ¥åŒå‘ä¼ è¾“æ•°æ®Â²Â³â´ã€‚
> - æ•°æ®ä¼ è¾“æ—¶ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½éœ€è¦éµå¾ªä¸€å®šçš„æ•°æ®å¸§æ ¼å¼ï¼Œæ¯ä¸ªæ•°æ®å¸§åŒ…å«ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å¤´éƒ¨å’Œä¸€ä¸ªå¯å˜é•¿åº¦çš„è´Ÿè½½æ•°æ®éƒ¨åˆ†â´ã€‚
> - æ•°æ®ä¼ è¾“æ—¶ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯ä»¥å‘é€æ§åˆ¶å¸§æ¥ç»´æŒè¿æ¥æˆ–å…³é—­è¿æ¥ï¼Œå¦‚pingã€pongã€closeç­‰â´ã€‚
> - å½“å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨æƒ³è¦å…³é—­è¿æ¥æ—¶ï¼Œéœ€è¦å‘é€ä¸€ä¸ªcloseå¸§ï¼Œå¹¶ç­‰å¾…å¯¹æ–¹çš„å›åº”ã€‚å¦‚æœå¯¹æ–¹ä¹Ÿå‘é€äº†closeå¸§ï¼Œåˆ™åŒæ–¹å…³é—­TCPè¿æ¥ã€‚å¦‚æœå¯¹æ–¹æ²¡æœ‰å›åº”ï¼Œåˆ™ä¸»åŠ¨å…³é—­TCPè¿æ¥â´ã€‚
>
> ä»¥ä¸Šæ˜¯å¯¹WebSocketåè®®çš„ç®€è¦ä»‹ç»ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚å’Œå…´è¶£æ·±å…¥å­¦ä¹ æ›´å¤šç»†èŠ‚ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/10
> (1) ååˆ†é’Ÿäº†è§£WebSocketåè®® - çŸ¥ä¹. https://bing.com/search?q=webSocket+%e5%8d%8f%e8%ae%ae.
> (2) WebSocketåè®®ï¼š5åˆ†é’Ÿä»å…¥é—¨åˆ°ç²¾é€š - ç¨‹åºçŒ¿å°å¡ - åšå®¢å›­. https://www.cnblogs.com/chyingp/p/websocket-deep-in.html.
> (3) WebSocket åè®®å®Œæ•´è§£æ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/407711596.
> (4) ååˆ†é’Ÿäº†è§£WebSocketåè®® - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/145628937.
> (5) ä¸­çš„ WebSocket æ”¯æŒ .NET - .NET | Microsoft Learn. https://learn.microsoft.com/zh-cn/dotnet/fundamentals/networking/websockets.
> (6) websocketåè®®è¯¦è§£åŠæŠ¥æ–‡åˆ†æ - CSDNåšå®¢. https://blog.csdn.net/LL845876425/article/details/106393358.

### è¯·æ±‚å¤´æ•°æ®æµæ¢è¡Œæ˜¯ç”¨ä»€ä¹ˆç¬¦å·è¡¨ç¤º

> è¯·æ±‚å¤´æ•°æ®æµæ¢è¡Œæ˜¯ç”¨å›è½¦ç¬¦å’Œæ¢è¡Œç¬¦ï¼ˆCRLFï¼‰è¡¨ç¤ºçš„ï¼Œä¹Ÿå°±æ˜¯\r\nÂ¹Â²ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªHTTPè¯·æ±‚å¤´çš„æ•°æ®æµå¯èƒ½æ˜¯è¿™æ ·çš„ï¼š
>
> GET /index.html HTTP/1.1\r\n
> Host: www.example.com\r\n
> User-Agent: Mozilla/5.0\r\n
> \r\n
>
> æ³¨æ„ï¼Œæ¯ä¸ªè¯·æ±‚å¤´éƒ½ä»¥\r\nç»“å°¾ï¼Œå¹¶ä¸”æœ€åä¸€ä¸ªè¯·æ±‚å¤´åé¢è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„ç©ºè¡Œ\r\nï¼Œè¡¨ç¤ºè¯·æ±‚å¤´çš„ç»“æŸÂ¹Â²ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/10
> (1) è¯·æ±‚æ ‡å¤´ï¼ˆRequest headerï¼‰ - Mozilla Developer. https://developer.mozilla.org/zh-CN/docs/Glossary/Request_header.
> (2) HTTPè¯·æ±‚æ¶ˆæ¯æ•°æ®æ ¼å¼è¯¦è§£(è¯·æ±‚å¤´,è¯·æ±‚è¡Œ,è¯·æ±‚ä½“) - CSDNåšå®¢. https://blog.csdn.net/qq_40121580/article/details/107349943.
> (3) HTTP æ¦‚è¿° - HTTP | MDN - Mozilla Developer. https://developer.mozilla.org/zh-CN/docs/web/http/overview.



### æœåŠ¡å™¨é‡å¯websocketæ—¶å¦‚ä½•é€šçŸ¥æµè§ˆå™¨åˆ·æ–°

> æœåŠ¡å™¨é‡å¯WebSocketæ—¶ï¼Œæµè§ˆå™¨ç«¯çš„WebSocketè¿æ¥ä¼šè¢«å…³é—­ï¼Œè¿™æ—¶æµè§ˆå™¨ç«¯ä¼šè§¦å‘oncloseäº‹ä»¶Â¹Â²ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥é€šçŸ¥æµè§ˆå™¨åˆ·æ–°ï¼š
>
> - åœ¨oncloseäº‹ä»¶ä¸­ï¼Œä½¿ç”¨window.location.reload()æ–¹æ³•å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨Â³ã€‚è¿™ç§æ–¹æ³•ç®€å•ç²—æš´ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´ç”¨æˆ·ä½“éªŒä¸ä½³ï¼Œæˆ–è€…ä¸¢å¤±ä¸€äº›æœªä¿å­˜çš„æ•°æ®ã€‚
> - åœ¨oncloseäº‹ä»¶ä¸­ï¼Œä½¿ç”¨WebSocketå¯¹è±¡çš„connect()æ–¹æ³•é‡æ–°å»ºç«‹è¿æ¥ã€‚è¿™ç§æ–¹æ³•å¯ä»¥é¿å…åˆ·æ–°æµè§ˆå™¨ï¼Œä½†æ˜¯éœ€è¦æœåŠ¡å™¨ç«¯æ”¯æŒé‡è¿æœºåˆ¶ï¼Œå¦åˆ™å¯èƒ½ä¼šå¤±è´¥æˆ–è€…é€ æˆèµ„æºæµªè´¹ã€‚
> - åœ¨oncloseäº‹ä»¶ä¸­ï¼Œä½¿ç”¨setTimeout()æ–¹æ³•è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå®šæœŸå°è¯•é‡æ–°å»ºç«‹è¿æ¥ã€‚è¿™ç§æ–¹æ³•å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯æ¢å¤åè‡ªåŠ¨æ¢å¤è¿æ¥ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„è®¾ç½®åˆç†çš„é‡è¿é—´éš”å’Œæ¬¡æ•°ï¼Œé¿å…è¿‡äºé¢‘ç¹æˆ–è€…æ— é™é‡è¿ã€‚
> - åœ¨oncloseäº‹ä»¶ä¸­ï¼Œä½¿ç”¨Notification APIæˆ–è€…å…¶ä»–æ–¹å¼å‘ç”¨æˆ·å‘é€ä¸€ä¸ªé€šçŸ¥ï¼Œæç¤ºç”¨æˆ·åˆ·æ–°æµè§ˆå™¨ã€‚è¿™ç§æ–¹æ³•å¯ä»¥è®©ç”¨æˆ·è‡ªä¸»é€‰æ‹©æ˜¯å¦åˆ·æ–°æµè§ˆå™¨ï¼Œä½†æ˜¯éœ€è¦ç”¨æˆ·çš„æˆæƒå’Œé…åˆã€‚
>
> ä»¥ä¸Šæ˜¯ä¸€äº›å¸¸è§çš„é€šçŸ¥æµè§ˆå™¨åˆ·æ–°çš„æ–¹æ³•ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚å’Œåœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹æ³•ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/10
> (1) HTML5 WebSocket | èœé¸Ÿæ•™ç¨‹. https://www.runoob.com/html/html5-websocket.html.
> (2) WebSocket API (WebSockets) - Web API | MDN - Mozilla .... https://developer.mozilla.org/ja/docs/Web/API/WebSockets_API.
> (3) The WebSocket API (WebSockets) - Web APIs | MDN. https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API.

### æ€æ ·è§£å†³è·¨åŸŸé—®é¢˜

å‚è€ƒç­”æ¡ˆï¼š

1.ä½¿ç”¨ JSONP

2.ä½¿ç”¨ cors

æœåŠ¡å™¨è®¾ç½®è¯·æ±‚å¤´`Access-Control-Allow-Origin: origin`

### å¦‚ä½•åŠ«æŒ https çš„è¯·æ±‚ï¼Œæä¾›æ€è·¯

> åŠ«æŒhttpsçš„è¯·æ±‚æ˜¯ä¸€ç§ä¸­é—´äººæ”»å‡»çš„æ‰‹æ³•ï¼Œç›®çš„æ˜¯çªƒå–æˆ–ç¯¡æ”¹ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´çš„åŠ å¯†é€šä¿¡å†…å®¹ã€‚è¦å®ç°è¿™ç§æ”»å‡»ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ€è·¯ï¼š
>
> - ä¼ªé€ æˆ–çªƒå–ç›®æ ‡ç½‘ç«™çš„è¯ä¹¦ï¼Œç„¶åé€šè¿‡DNSåŠ«æŒæˆ–ARPæ¬ºéª—ç­‰æ–¹å¼ï¼Œè®©ç”¨æˆ·è®¿é—®åˆ°è‡ªå·±çš„æœåŠ¡å™¨ï¼Œä»è€Œæˆªå–ç”¨æˆ·çš„è¯·æ±‚å’Œå“åº”Â¹Â²ã€‚è¿™ç§æ–¹æ³•éœ€è¦è®©ç”¨æˆ·ä¿¡ä»»ä¼ªé€ æˆ–çªƒå–çš„è¯ä¹¦ï¼Œæˆ–è€…è¯±å¯¼ç”¨æˆ·å¿½ç•¥æµè§ˆå™¨çš„è­¦å‘Šã€‚
> - é€šè¿‡å®‰è£…æ¶æ„è½¯ä»¶æˆ–æ’ä»¶ï¼Œæˆ–è€…è¯±å¯¼ç”¨æˆ·å®‰è£…ä¸çŸ¥åçš„æ ¹è¯ä¹¦ï¼Œä»è€Œåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸Šè¿›è¡Œhttpsæ‹¦æˆªå’Œè§£å¯†Â³ ã€‚è¿™ç§æ–¹æ³•éœ€è¦ç”¨æˆ·çš„é…åˆæˆ–è€…ä¸æ³¨æ„ã€‚
> - é€šè¿‡å…¥ä¾µç›®æ ‡ç½‘ç«™çš„åŸŸåæœåŠ¡å™¨æˆ–åŸŸåè´¦æˆ·æ§åˆ¶æƒï¼Œç„¶åç”³è¯·åˆæ³•çš„è¯ä¹¦ï¼Œå¹¶å°†åŸŸåæŒ‡å‘è‡ªå·±çš„æœåŠ¡å™¨ã€‚è¿™ç§æ–¹æ³•éš¾åº¦è¾ƒé«˜ï¼Œä½†æ˜¯å¯ä»¥å®Œå…¨æ¬ºéª—ç”¨æˆ·å’Œæµè§ˆå™¨ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/10
> (1) å¦‚ä½•åŠ«æŒhttpsçš„è¯·æ±‚_httpsåŠ«æŒ_ç¼“æœˆçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/qq_42893625/article/details/104971069.
> (2) HTTPS å¯èƒ½è¢«è¿™æ ·åŠ«æŒå—ï¼Ÿ - çŸ¥ä¹. https://www.zhihu.com/question/22795329.
> (3) ã€è®¡ç®—æœºç½‘ç»œ(äºŒ)ã€‘DNSåè®®_æ»¡æ»¡å’Œç±³å…œçš„åšå®¢-CSDNåšå®¢. https://blog.csdn.net/haolinbird/article/details/130432269.



### JSONPçš„ä¼˜ç¼ºç‚¹
1.ä¼˜ç‚¹
- å®ƒä¸åƒXMLHttpRequestå¯¹è±¡å®ç°çš„Ajaxè¯·æ±‚é‚£æ ·å—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶ï¼ŒJSONPå¯ä»¥è·¨è¶ŠåŒæºç­–ç•¥ï¼›
- å®ƒçš„å…¼å®¹æ€§æ›´å¥½ï¼Œåœ¨æ›´åŠ å¤è€çš„æµè§ˆå™¨ä¸­éƒ½å¯ä»¥è¿è¡Œï¼Œä¸éœ€è¦XMLHttpRequestæˆ–ActiveXçš„æ”¯æŒ
- åœ¨è¯·æ±‚å®Œæ¯•åå¯ä»¥é€šè¿‡è°ƒç”¨callbackçš„æ–¹å¼å›ä¼ ç»“æœã€‚å°†å›è°ƒæ–¹æ³•çš„æƒé™ç»™äº†è°ƒç”¨æ–¹ã€‚è¿™ä¸ªå°±ç›¸å½“äºå°†controllerå±‚å’Œviewå±‚ç»ˆäºåˆ†å¼€äº†ã€‚æˆ‘æä¾›çš„jsonpæœåŠ¡åªæä¾›çº¯æœåŠ¡çš„æ•°æ®ï¼Œè‡³äºæä¾›æœåŠ¡ä»¥ åçš„é¡µé¢æ¸²æŸ“å’Œåç»­viewæ“ä½œéƒ½ç”±è°ƒç”¨è€…æ¥è‡ªå·±å®šä¹‰å°±å¥½äº†ã€‚å¦‚æœæœ‰ä¸¤ä¸ªé¡µé¢éœ€è¦æ¸²æŸ“åŒä¸€ä»½æ•°æ®ï¼Œä½ ä»¬åªéœ€è¦æœ‰ä¸åŒçš„æ¸²æŸ“é€»è¾‘å°±å¯ä»¥äº†ï¼Œé€»è¾‘éƒ½å¯ä»¥ä½¿ç”¨åŒ ä¸€ä¸ªjsonpæœåŠ¡ã€‚

2.ç¼ºç‚¹

- å®ƒåªæ”¯æŒ**GETè¯·æ±‚**è€Œä¸æ”¯æŒPOSTç­‰å…¶å®ƒç±»å‹çš„HTTPè¯·æ±‚
- å®ƒåªæ”¯æŒè·¨åŸŸHTTPè¯·æ±‚è¿™ç§æƒ…å†µï¼Œä¸èƒ½è§£å†³ä¸åŒåŸŸçš„ä¸¤ä¸ªé¡µé¢ä¹‹é—´å¦‚ä½•è¿›è¡ŒJavaScriptè°ƒç”¨çš„é—®é¢˜ã€‚
- jsonpåœ¨**è°ƒç”¨å¤±è´¥çš„æ—¶å€™ä¸ä¼šè¿”å›å„ç§HTTPçŠ¶æ€ç **ã€‚
- ç¼ºç‚¹æ˜¯å®‰å…¨æ€§ã€‚ä¸‡ä¸€å‡å¦‚æä¾›jsonpçš„æœåŠ¡å­˜åœ¨é¡µé¢æ³¨å…¥æ¼æ´ï¼Œå³å®ƒè¿”å›çš„javascriptçš„å†…å®¹è¢«äººæ§åˆ¶çš„ã€‚é‚£ä¹ˆç»“æœæ˜¯ä»€ä¹ˆï¼Ÿæ‰€æœ‰è°ƒç”¨è¿™ä¸ª jsonpçš„ç½‘ç«™éƒ½ä¼šå­˜åœ¨æ¼æ´ã€‚äºæ˜¯æ— æ³•æŠŠå±é™©æ§åˆ¶åœ¨ä¸€ä¸ªåŸŸåä¸‹â€¦æ‰€ä»¥åœ¨ä½¿ç”¨jsonpçš„æ—¶å€™å¿…é¡»è¦ä¿è¯ä½¿ç”¨çš„jsonpæœåŠ¡å¿…é¡»æ˜¯å®‰å…¨å¯ä¿¡çš„ã€‚

### ä»€ä¹ˆæ˜¯ç²˜åŒ…?

https://blog.csdn.net/u014600626/article/details/108222945

### nginx gzip å’Œ webpack gzip æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œéœ€è¦åŒæ—¶æ‰“å¼€å—

> nginx gzip å’Œ webpack gzip æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š
>
> - nginx gzip æ˜¯åœ¨æœåŠ¡å™¨ç«¯å¯¹é™æ€èµ„æºè¿›è¡Œå®æ—¶å‹ç¼©çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥é€šè¿‡é…ç½® nginx.conf æ–‡ä»¶ä¸­çš„ gzip æŒ‡ä»¤æ¥å¼€å¯æˆ–å…³é—­Â¹ã€‚nginx gzip å¯ä»¥å‡å°‘ç½‘ç»œä¼ è¾“çš„æ•°æ®é‡ï¼Œæé«˜ç½‘é¡µåŠ è½½çš„é€Ÿåº¦ï¼Œä½†æ˜¯ä¹Ÿä¼šå¢åŠ æœåŠ¡å™¨çš„ CPU èµ„æºæ¶ˆè€—Â¹ã€‚
> - webpack gzip æ˜¯åœ¨æ‰“åŒ…æ—¶å¯¹é™æ€èµ„æºè¿›è¡Œé¢„å‹ç¼©çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥é€šè¿‡ä½¿ç”¨ compression-webpack-plugin æ’ä»¶æ¥å®ç°Â²ã€‚webpack gzip å¯ä»¥ç”Ÿæˆå¯¹åº”çš„ .gz æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶å¯ä»¥è¢« nginx ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦å†è¿›è¡Œå®æ—¶å‹ç¼©Â³ã€‚webpack gzip å¯ä»¥å‡å°‘æœåŠ¡å™¨çš„ CPU èµ„æºæ¶ˆè€—ï¼Œä½†æ˜¯ä¹Ÿä¼šå¢åŠ æ‰“åŒ…çš„æ—¶é—´å’Œç£ç›˜ç©ºé—´Â²ã€‚
>
> ä¸€èˆ¬æ¥è¯´ï¼Œå»ºè®®åŒæ—¶å¼€å¯ nginx gzip å’Œ webpack gzip ï¼Œè¿™æ ·å¯ä»¥è®© nginx ä¼˜å…ˆä½¿ç”¨ webpack ç”Ÿæˆçš„ .gz æ–‡ä»¶ä½œä¸ºå“åº”ï¼Œä»è€Œå‡å°‘æœåŠ¡å™¨çš„ CPU èµ„æºæ¶ˆè€—ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†ç½‘é¡µåŠ è½½çš„é€Ÿåº¦â´ã€‚
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/13
> (1) webpack gzipå’ŒNginx gzipåŒºåˆ« - æ˜é‡‘. https://juejin.cn/post/7170689393311612958.
> (2) nginxå’Œwebpackå¼€å¯gzipå‹ç¼©--å‰ç«¯å¼€å‘ - æ˜é‡‘. https://juejin.cn/post/6844904002979627016.
> (3) webpack gzip å’Œ nginx gzipçš„åŒºåˆ«_æ‰“åŒ…å‹ç¼©å’Œnginxè®¿é—®å‹ç¼© .... https://blog.csdn.net/sd4015700/article/details/118650050.
> (4) é…ç½®nginxç›´æ¥ä½¿ç”¨webpackç”Ÿæˆçš„gzå‹ç¼©æ–‡ä»¶ï¼Œè€Œä¸ç”¨nginx .... https://blog.csdn.net/ywl570717586/article/details/100011721.
> (5) webpackæ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨gzipå‹ç¼©åŠŸèƒ½ - CSDNåšå®¢. https://blog.csdn.net/qq_38086247/article/details/118992974.

### DNSè§£æè¿‡ç¨‹

[DNSåŸºç¡€ä¹‹ä½¿ç”¨digæŸ¥è¯¢DNSè§£æè¿‡ç¨‹](https://blog.csdn.net/zxl1990_ok/article/details/125452535)

[What are DNS root servers? are there really only 13?](https://itroasters.com/tutorials/what-are-dns-root-servers/)

### å†…å®¹åå•†æ˜¯ä»€ä¹ˆ

> https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Content_negotiation
>
> åœ¨ [HTTP](https://developer.mozilla.org/zh-CN/docs/Glossary/HTTP) åè®®ä¸­ï¼Œ***å†…å®¹åå•†***æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨äºä¸ºåŒä¸€ URI æä¾›èµ„æºä¸åŒçš„[è¡¨ç¤º](https://developer.mozilla.org/zh-CN/docs/Glossary/Representation_header)å½¢å¼ï¼Œä»¥å¸®åŠ©ç”¨æˆ·ä»£ç†æŒ‡å®šæœ€é€‚åˆç”¨æˆ·çš„è¡¨ç¤ºå½¢å¼ï¼ˆä¾‹å¦‚ï¼Œå“ªç§æ–‡æ¡£è¯­è¨€ã€å“ªç§å›¾ç‰‡æ ¼å¼æˆ–è€…å“ªç§å†…å®¹ç¼–ç ï¼‰ã€‚

### Transfer-Encoding

[HTTP åè®®ä¸­çš„ Transfer-Encoding](https://www.51cto.com/article/491335.html)

HTTP/1.1 åˆ™è§„å®šæ‰€æœ‰è¿æ¥éƒ½å¿…é¡»æ˜¯æŒä¹…çš„`Connection: keep-alive`ï¼Œé™¤éæ˜¾å¼åœ°åœ¨å¤´éƒ¨åŠ ä¸Š `Connection: close`

### æµè§ˆå™¨ä¸­çš„æœ€å¤§å¹¶è¡Œ HTTP è¿æ¥æ•°ï¼Ÿ

https://stackoverflow.com/questions/985431/max-parallel-http-connections-in-a-browser

### äº†è§£RTT å’ŒRTO å¯¹äºTCP é‡ä¼ çš„å½±å“ 

https://www.cnblogs.com/zy09/p/16636881.html

- **RTT (Round Trip Time)**ï¼š å¯¹äº Ping å’Œ Tracerouteï¼Œè¿™æµ‹é‡äº†å‘é€ Ping æ•°æ®åŒ…å’Œå–å› ICMP æ•°æ®åŒ…ä¹‹é—´çš„å¾€è¿”æ—¶é—´ï¼›å¯¹äº TCP è¿æ¥ï¼Œå®ƒéå¸¸ç›¸ä¼¼ï¼›å®ƒæµ‹é‡å‘é€æ•°æ®åŒ…åˆ°ä»ç›®æ ‡ä¸»æœºè·å¾—ç¡®è®¤æ•°æ®åŒ…çš„æ—¶é—´ã€‚
- TODO

### TCP_NODELAY

[ç½‘ç»œç¼–ç¨‹ï¼šTCP_NODELAY](https://zhuanlan.zhihu.com/p/80104656)

[TCPè¿æ¥ä¸­å¯ç”¨å’Œç¦ç”¨TCP_NODELAYæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ](https://www.zhihu.com/question/42308970)

TCP_NODELAYï¼Œä¼šç¦ç”¨Nagleç®—æ³•ã€‚Nagleç®—æ³•çš„ä½œç”¨æ˜¯å‡å°‘å°åŒ…çš„æ•°é‡

- ä»€ä¹ˆæ˜¯å°åŒ…ï¼šå°äº MSS(ä¸€ä¸ªTCPæ®µåœ¨ç½‘ç»œä¸Šä¼ è¾“çš„æœ€å¤§å°ºå¯¸) çš„éƒ½å¯ä»¥å®šä¹‰ä¸ºå°åŒ…ã€‚
- å¦‚æœå‰ä¸€ä¸ªTCPæ®µå‘é€å‡ºå»åï¼Œè¿˜æ²¡æœ‰æ”¶åˆ°å¯¹ç«¯çš„ACKåŒ…ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„å‘é€æ•°æ®ä¼šå…ˆç´¯ç§¯èµ·æ¥ä¸å‘ã€‚
- ç­‰åˆ°å¯¹ç«¯è¿”å›ACKï¼Œæˆ–è€…æ•°æ®ç´¯ç§¯å·²å¿«è¾¾åˆ°MSSï¼Œæ‰ä¼šå‘é€å‡ºå»ã€‚



## æ‚é¡¹

1. ts   extend  infer æ‰‹å†™é¢˜ã€å‡½æ•°é‡è½½   2é¢˜
2. æ²™ç®±  æ‰‹å†™ ä¼ªä»£ç 
3. httpç¼“å­˜ å¼ºç¼“å­˜ åå•†ç¼“å­˜ å„è¯·æ±‚å¤´ä½œç”¨   http 1.0 1.1   2.0    httpsåŸç†   éå¯¹ç§°å’Œå¯¹ç§°åŠ å¯†åŸç†
4. casè®¤è¯å’Œoauth2è®¤è¯ æµç¨‹
5. npm yarn pnpm åŒºåˆ«  åŸç†  è½¯è¿æ¥å’Œç¡¬è¿æ¥ä½œç”¨  ä»€ä¹ˆæ˜¯å¹½çµä¾èµ–
6. commonjs  esm åŒºåˆ«
7. prefetch preload åŒºåˆ«

### å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“

https://blog.csdn.net/qq_41328247/article/details/113859458

## å‰ç«¯å®‰å…¨



## CSS



### é‡ç»˜å’Œå›æµæœ‰ä»€ä¹ˆåŒºåˆ«?

https://blog.csdn.net/pig_is_duck/article/details/105903741

1ã€ é‡ç»˜ï¼šå…ƒç´ æ ·å¼çš„æ”¹å˜ï¼ˆä½†å®½é«˜ã€å¤§å°ã€ä½ç½®ç­‰ä¸å˜ï¼‰

2ã€ å›æµï¼šå…ƒç´ çš„å¤§å°æˆ–è€…ä½ç½®å‘ç”Ÿæ”¹å˜ï¼ˆå½“é¡µé¢å¸ƒå±€å’Œå‡ ä½•ä¿¡æ¯å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼‰ï¼Œè§¦å‘äº†é‡æ–°å¸ƒå±€å¯¼è‡´æ¸²æŸ“æ ‘é‡æ–°è®¡ç®—å¸ƒå±€å’Œæ¸²æŸ“



### BFC æ˜¯ä»€ä¹ˆ

[10 åˆ†é’Ÿç†è§£ BFC åŸç†](https://zhuanlan.zhihu.com/p/25321647)

[å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡BFC](https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context)

### flexå¸ƒå±€å­å…ƒç´ å®½åº¦è¶…å‡ºçˆ¶å…ƒç´ é—®é¢˜

https://juejin.cn/post/6974356682574921765

1. è®¾ç½®`min-widthï¼š0`å¯ä»¥è§£å†³å½“`flexå­å…ƒç´ `çš„å­å…ƒç´ å¤§å°ä¸º`auto`çš„æƒ…å†µï¼›
2. è®¾ç½®`overflow`ä¸ä¸º`visible`å¯ä»¥è§£å†³æ‰€æœ‰æƒ…å†µä¸‹çš„éº»çƒ¦ï¼›

[flex-shrink](https://www.runoob.com/cssref/css3-pr-flex-shrink.html)



## å¯èƒ½é—®é¢˜

### å¼€å‘vueé¡¹ç›®éƒ½é‡åˆ°è¿‡å“ªäº›é—®é¢˜æ€ä¹ˆè§£å†³çš„ï¼Ÿ

https://www.zhihu.com/question/439229990

1. ä»å·¥ç¨‹åŒ–çš„è§’åº¦çœ‹ï¼Œé¡¹ç›®è¶Šå¤§ï¼Œwebpackå¯åŠ¨çš„é€Ÿåº¦å°±è¶Šæ…¢ï¼Œè¿™ä¸€ç‚¹å°±éœ€è¦åˆ†åŒ…ï¼ŒæŠ½ç¦»å…¬å…±çš„ä»£ç ï¼›

2. ä»è¯­æ³•ä¸Šï¼Œæˆ‘å°è±¡æ¯”è¾ƒæ·±çš„æ˜¯ï¼Œä½†æ˜¯`v-if`å’Œ`v-else`çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªç»„ä»¶çš„è¯ï¼Œéœ€è¦å•ç‹¬æŒ‡å®škeyï¼Œä¸ç„¶ç»„ä»¶ä¼šå¤ç”¨



### å½“æˆ‘åœ¨æµè§ˆå™¨ä¸­è¾“å…¥URLï¼Œä¸€ç›´åˆ°é¡µé¢æ˜¾ç¤ºï¼Œè¿™ä¸ªä¸­é—´è¿‡ç¨‹å‘ç”Ÿäº†å“ªäº›äº‹æƒ…å‘¢ï¼Ÿ



### vueæ˜¯å¦‚ä½•å®ç°åŒå‘ç»‘å®šçš„

åŒå‘ç»‘å®šæŒ‡çš„æ˜¯

1. æ•°æ®æ›´æ–° -ã€‹è§†å›¾æ›´æ–°

   - å®ç°ä¸€ä¸ªç›‘å¬å™¨ Observerï¼Œæ·±åº¦ç›‘å¬æ•°æ®ã€‚ç”¨` Object.defineProperty()`å¯¹å±æ€§éƒ½åŠ ä¸Š`setter`å’Œ`getter`, ç»™å¯¹è±¡çš„æ•°æ®èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘`setter`
   - å®ç°ä¸€ä¸ªè§£æå™¨ Compileï¼Œè§£æ Vue æ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡éƒ½æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾
   - å®ç°ä¸€ä¸ªè®¢é˜…è€… Watcherï¼Œå®ƒæ—¶Compileå’ŒObserveré—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦çš„ä»»åŠ¡æ˜¯è®¢é˜… Observer ä¸­çš„å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯ï¼Œå½“æ”¶åˆ°å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯æ—¶ï¼Œè§¦å‘è§£æå™¨ Compile ä¸­å¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚
   - å®ç°ä¸€ä¸ªè®¢é˜…å™¨ Depï¼šè®¢é˜…å™¨é‡‡ç”¨ å‘å¸ƒ-è®¢é˜… è®¾è®¡æ¨¡å¼ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€… Watcherï¼Œå¯¹ç›‘å¬å™¨ Observer å’Œ è®¢é˜…è€… Watcher è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚

   

2. è§†å›¾æ›´æ–° -ã€‹æ•°æ®æ›´æ–°

   - è§†å›¾è§¦å‘äº‹ä»¶ï¼Œæ›´æ–°jsæ•°æ®

![1.png](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/8/19/16ca75871f729d89~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp)

### MVVMå’ŒMVC

[æ­£ç¡®è®¤è¯† MVC/MVP/MVVM](https://juejin.cn/post/6901200799242649607)

[ä»reactè§†è§’è®¤è¯†MVC](https://blog.yyisyou.tw/1dddc6d7/)

> ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚MVVMå’ŒMVCæ˜¯ä¸¤ç§å¸¸ç”¨çš„è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼š
>
> - MVCæ˜¯æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼ˆModel-View-Controllerï¼‰çš„ç¼©å†™ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºåˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼šæ¨¡å‹è´Ÿè´£å¤„ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œè§†å›¾è´Ÿè´£æ˜¾ç¤ºç”¨æˆ·ç•Œé¢ï¼Œæ§åˆ¶å™¨è´Ÿè´£æ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶è°ƒç”¨æ¨¡å‹å’Œè§†å›¾æ¥å®Œæˆè¯·æ±‚Â¹Â³ã€‚
> - MVVMæ˜¯æ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ï¼ˆModel-View-ViewModelï¼‰çš„ç¼©å†™ï¼Œå®ƒæ˜¯MVCçš„æ”¹è¿›ç‰ˆï¼Œå®ƒå°†è§†å›¾çš„çŠ¶æ€å’Œè¡Œä¸ºæŠ½è±¡åŒ–ä¸ºä¸€ä¸ªè§†å›¾æ¨¡å‹ï¼Œé€šè¿‡æ•°æ®ç»‘å®šæŠ€æœ¯ï¼Œå®ç°äº†è§†å›¾å’Œæ¨¡å‹çš„è‡ªåŠ¨åŒæ­¥ï¼šå½“æ¨¡å‹çš„å±æ€§æ”¹å˜æ—¶ï¼Œè§†å›¾ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°Â²â´ã€‚
> - MVCå’ŒMVVMçš„ä¸»è¦ç›®çš„éƒ½æ˜¯åˆ†ç¦»è§†å›¾å’Œæ¨¡å‹ï¼Œé™ä½ä»£ç çš„è€¦åˆåº¦å’Œå¤æ‚åº¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚ä½†æ˜¯MVVMç›¸æ¯”MVCæ›´åŠ çµæ´»å’Œç®€æ´ï¼Œå®ƒå‡å°‘äº†æ§åˆ¶å™¨å±‚çš„ä»£ç é‡ï¼Œé¿å…äº†é¢‘ç¹åœ°æ“ä½œDOMå…ƒç´ ï¼Œæé«˜äº†é¡µé¢çš„æ¸²æŸ“æ€§èƒ½å’ŒåŠ è½½é€Ÿåº¦Â¹â´ã€‚
>
> å¸Œæœ›è¿™èƒ½å¸®åŠ©ä½ ç†è§£MVVMå’ŒMVCçš„åŒºåˆ«ã€‚ğŸ˜Š
>
> æº: ä¸å¿…åº”çš„å¯¹è¯ï¼Œ 2023/5/15
> (1) æ¥ä¸ªç®€å•çš„ï¼ŒMVVMå’ŒMVCæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ - çŸ¥ä¹ä¸“æ . https://zhuanlan.zhihu.com/p/377979044.
> (2) MVCã€MVVMæ¨¡å¼çš„æ¦‚å¿µä¸åŒºåˆ« - ç†æƒ³ä¸‰æ—¬Â· - åšå®¢å›­. https://www.cnblogs.com/wenkangIT/p/15149077.html.
> (3) MVCä¸MVVMæ¨¡å¼çš„åŒºåˆ« - æ˜é‡‘. https://juejin.cn/post/7110885291946147876.
> (4) é¢è¯•é¢˜51ï¼šMVVMå’ŒMVCæœ‰ä»€ä¹ˆåŒºåˆ« - CSDNåšå®¢. https://blog.csdn.net/qq_51066068/article/details/125441774.

---

> æˆ‘å¯ä»¥å°è¯•ç”¨åŸç”Ÿjsç»™ä½ å†™ä¸€ä¸ªMVCæ¡†æ¶çš„ä»£ç ç¤ºä¾‹ã€‚è¿™ä¸ªç¤ºä¾‹æ˜¯ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨åº”ç”¨ï¼Œå®ƒæœ‰ä¸€ä¸ªæ¨¡å‹ï¼ˆModelï¼‰æ¥å­˜å‚¨è®¡æ•°å€¼ï¼Œä¸€ä¸ªè§†å›¾ï¼ˆViewï¼‰æ¥æ˜¾ç¤ºè®¡æ•°å€¼ï¼Œå’Œä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆControllerï¼‰æ¥å“åº”ç”¨æˆ·ç‚¹å‡»æŒ‰é’®çš„äº‹ä»¶ã€‚ä»£ç å¦‚ä¸‹ï¼š
>
> ```javascript
> // Model
> var model = {
>   count: 0 // è®¡æ•°å€¼
> };
> 
> // View
> var view = {
>   init: function() {
>     // è·å–é¡µé¢å…ƒç´ 
>     this.countDisplay = document.getElementById("count");
>     this.incrementButton = document.getElementById("increment");
>     this.decrementButton = document.getElementById("decrement");
>     // æ¸²æŸ“åˆå§‹è§†å›¾
>     this.render();
>   },
>   render: function() {
>     // æ›´æ–°è®¡æ•°å€¼æ˜¾ç¤º
>     this.countDisplay.textContent = model.count;
>   }
> };
> 
> // Controller
> var controller = {
>   init: function() {
>     // åˆå§‹åŒ–è§†å›¾
>     view.init();
>     // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
>     view.incrementButton.addEventListener("click", function() {
>       controller.increment(); // è°ƒç”¨æ§åˆ¶å™¨çš„æ–¹æ³•
>     });
>     view.decrementButton.addEventListener("click", function() {
>       controller.decrement(); // è°ƒç”¨æ§åˆ¶å™¨çš„æ–¹æ³•
>     });
>   },
>   increment: function() {
>     // å¢åŠ è®¡æ•°å€¼
>     model.count++;
>     // æ›´æ–°è§†å›¾
>     view.render();
>   },
>   decrement: function() {
>     // å‡å°‘è®¡æ•°å€¼
>     model.count--;
>     // æ›´æ–°è§†å›¾
>     view.render();
>   }
> };
> 
> // å¯åŠ¨åº”ç”¨
> controller.init();
> ```

---

> æˆ‘å¯ä»¥å°è¯•ç”¨åŸç”Ÿjsç»™ä½ å†™ä¸€ä¸ªMVVMæ¨¡å¼çš„ä»£ç ç¤ºä¾‹ã€‚MVVMæ˜¯Model-View-ViewModelçš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§å°†æ•°æ®ç»‘å®šå’Œè§†å›¾åˆ†ç¦»çš„è½¯ä»¶æ¶æ„æ¨¡å¼ã€‚å®ƒæœ‰ä¸€ä¸ªæ¨¡å‹ï¼ˆModelï¼‰æ¥å­˜å‚¨æ•°æ®ï¼Œä¸€ä¸ªè§†å›¾ï¼ˆViewï¼‰æ¥æ˜¾ç¤ºç•Œé¢ï¼Œå’Œä¸€ä¸ªè§†å›¾æ¨¡å‹ï¼ˆViewModelï¼‰æ¥å“åº”ç”¨æˆ·æ“ä½œå’Œæ›´æ–°è§†å›¾ã€‚ä»£ç å¦‚ä¸‹ï¼š
>
> ```javascript
> // Model
> var model = {
>   count: 0 // è®¡æ•°å€¼
> };
> 
> // View
> var view = {
>   init: function() {
>     // è·å–é¡µé¢å…ƒç´ 
>     this.countDisplay = document.getElementById("count");
>     this.incrementButton = document.getElementById("increment");
>     this.decrementButton = document.getElementById("decrement");
>   }
> };
> 
> // ViewModel
> var viewModel = {
>   init: function() {
>     // åˆå§‹åŒ–è§†å›¾
>     view.init();
>     // ç»‘å®šæ•°æ®å’Œè§†å›¾
>     this.bindData();
>     // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
>     this.bindEvent();
>   },
>   bindData: function() {
>     // ä½¿ç”¨Object.definePropertyå®ç°æ•°æ®ç»‘å®š
>     Object.defineProperty(this, "count", {
>       get: function() {
>         return model.count; // è·å–æ¨¡å‹ä¸­çš„æ•°æ®
>       },
>       set: function(value) {
>         model.count = value; // è®¾ç½®æ¨¡å‹ä¸­çš„æ•°æ®
>         view.countDisplay.textContent = value; // æ›´æ–°è§†å›¾ä¸­çš„æ˜¾ç¤º
>       }
>     });
>     // åˆå§‹åŒ–è§†å›¾ä¸­çš„æ˜¾ç¤º
>     view.countDisplay.textContent = this.count;
>   },
>   bindEvent: function() {
>     // ä½¿ç”¨addEventListenerå®ç°äº‹ä»¶ç»‘å®š
>     view.incrementButton.addEventListener("click", () => {
>       this.increment(); // è°ƒç”¨è§†å›¾æ¨¡å‹çš„æ–¹æ³•
>     });
>     view.decrementButton.addEventListener("click", () => {
>       this.decrement(); // è°ƒç”¨è§†å›¾æ¨¡å‹çš„æ–¹æ³•
>     });
>   },
>   increment: function() {
>     // å¢åŠ è®¡æ•°å€¼
>     this.count++;
>   },
>   decrement: function() {
>     // å‡å°‘è®¡æ•°å€¼
>     this.count--;
>   }
> };
> 
> // å¯åŠ¨åº”ç”¨
> viewModel.init();
> ```

### ã€é›†åˆã€‘ç»Ÿä¸€èº«ä»½è®¤è¯ï¼ˆCASï¼‰å’ŒOAuth2çš„å·¥ä½œæµç¨‹

https://blog.csdn.net/tpriwwq/article/details/125740936

## é¢˜ç›®

### è®¾è®¡ä¸€ä¸ªwebsocketå®¢æˆ·ç«¯æ¨¡å—ç»™å›¢é˜Ÿäººå‘˜ä½¿ç”¨

> é¢˜ç›®ï¼šè®¾è®¡ä¸€ä¸ªwebsocketå®¢æˆ·ç«¯æ¨¡å—ç»™å›¢é˜Ÿäººå‘˜ä½¿ç”¨
> è¦æ±‚ï¼šç¨³å®šæ€§å’Œå¯ç”¨æ€§ï¼Œä¸éœ€è¦è€ƒè™‘å®‰å…¨æ€§ï¼Œæ‰©å±•æ€§ç­‰å…¶ä»–å› ç´ 
> è€ƒå¯Ÿè¦ç‚¹ï¼šå¦‚ä½•é€šè¿‡è®¾è®¡æœºåˆ¶æ¥ä¿è¯å¼ºç¨³å®šæ€§ï¼Œéœ€è¦è€ƒè™‘åˆ°å„ç§æƒ…å†µï¼Œä¿è¯ä¸šåŠ¡é«˜å¯ç”¨
>
> æŠ€æœ¯æ–¹å¼ä¸é™ï¼Œwsç›¸å…³ä»£ç ç”¨jsï¼Œä¸å¼•å…¥ç°æœ‰ç”Ÿæ€çš„wsçš„npmåº“

#### 1. å‚è€ƒé¡µé¢

- https://cloud.tencent.com/developer/article/2168088
- https://juejin.cn/post/7128030988479037447
- https://github.com/nuls-io/nuls-v2-docs/blob/master/design-zh-CHS/r.rpc-tool-websocket%E8%AE%BE%E8%AE%A1v1.3.md
- https://socket.io/zh-CN/docs/v4/
- https://blog.csdn.net/niugang0920/article/details/83686205
- [ååˆ†é’Ÿäº†è§£WebSocketåè®®](https://zhuanlan.zhihu.com/p/145628937)
  - åŸºäºTCP/IPåè®®ï¼Œç‹¬ç«‹äºHTTPåè®®çš„é€šä¿¡åè®®
  - åŒå‘é€šè®¯ï¼Œæœ‰çŠ¶æ€ï¼Œå®¢æˆ·ç«¯ä¸€ï¼ˆå¤šï¼‰ä¸ªä¸æœåŠ¡ç«¯ä¸€ï¼ˆå¤šï¼‰åŒå‘å®æ—¶å“åº”ï¼ˆå®¢æˆ·ç«¯ â‡„ æœåŠ¡ç«¯ï¼‰
  - åº”ç”¨åœ¨æµè§ˆå™¨çš„ Socket ï¼ˆæ˜¯ Socket æ¨¡å‹æ¥å£çš„å®ç°ï¼‰ï¼ŒSocket æ˜¯ä¸€ä¸ªç½‘ç»œé€šä¿¡æ¥å£ ï¼ˆé€šä¿¡è§„èŒƒï¼‰
  - [RFC 6455 è§„èŒƒ](https://link.zhihu.com/?target=https%3A//tools.ietf.org/html/rfc6455) æ˜¯å¤§å¤šæ•°æµè§ˆå™¨å®ç°çš„ WebSocket API åè®®ã€‚
  - **WebSocketåè®®ä¸å—åŒæºç­–ç•¥å½±å“ã€‚**
  - å‘å¿ƒè·³åŒ…æœ€å¥½æœåŠ¡å™¨å‘é€ï¼Ÿ

- [WebSocketsç‰ˆæœ¬ä¹‹é—´çš„åè®®å·®å¼‚æ˜¯ä»€ä¹ˆï¼Ÿ](http://news.558idc.com/94700.html)

- [ä½¿ç”¨WebSocket æ—¶çš„å®‰å…¨æ³¨æ„äº‹é¡¹](https://zhuanlan.zhihu.com/p/628423871)
- [Websocket å¯ä»¥ç©å‡ºäº›ä»€ä¹ˆèŠ±å„¿ï¼Ÿ](https://zhuanlan.zhihu.com/p/460470270)
- [WebSocket æµ…æ](https://zhuanlan.zhihu.com/p/25592934)
- [websocketé•¿æ–‡æœ¬é—®é¢˜ï¼Ÿ](https://segmentfault.com/q/1010000010620489)
- å¾…çœ‹
  - https://www.cnblogs.com/cangqinglang/p/15991378.html
  - [ã€è¯‘ã€‘Engine.IOåè®®](https://www.kevinwu0904.top/blogs/network-engineio/)


#### 2.å®ç°åŠŸèƒ½

- è¿æ¥é”™è¯¯å¤„ç†ï¼šå½“è¿æ¥å¤±è´¥æ—¶ï¼Œä½ éœ€è¦ç›‘å¬erroräº‹ä»¶å’Œcloseäº‹ä»¶ï¼Œè·å–é”™è¯¯ä¿¡æ¯å’Œå…³é—­ç ï¼Œå¹¶å°è¯•é‡æ–°è¿æ¥æˆ–æŠ¥å‘Šé”™è¯¯ã€‚
- å¿ƒè·³æ£€æµ‹ï¼šä¸ºäº†æ£€æµ‹å’Œå…³é—­æ–­å¼€çš„è¿æ¥ï¼Œä½ éœ€è¦å®šæœŸå‘é€å¿ƒè·³åŒ…ï¼ˆpingå¸§ï¼‰å¹¶ç­‰å¾…å“åº”ï¼ˆpongå¸§ï¼‰ã€‚å¦‚æœæ²¡æœ‰æ”¶åˆ°å“åº”ï¼Œä½ å¯ä»¥å…³é—­è¿æ¥å¹¶é‡æ–°è¿æ¥
- æ•°æ®å‹ç¼©ï¼šä½ å¯ä»¥ä½¿ç”¨permessage-deflateæ‰©å±•æ¥å‹ç¼©æ•°æ®è´Ÿè½½ã€‚è¿™ä¸ªæ‰©å±•å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´åå•†å‹ç¼©ç®—æ³•å’Œå‚æ•°





